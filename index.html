<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-WK46KQW40M"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      window.gtag = gtag;
      gtag('js', new Date());
      gtag('config', 'G-WK46KQW40M');
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- Primary Meta Tags -->
    <title>HTML & Flutter Icon Picker - Generate Embed Code & Flutter Icons | flutterIcons.com</title>
    <meta name="title" content="HTML & Flutter Icon Picker - Generate Embed Code & Flutter Icons | flutterIcons.com">
    <meta name="description" content="HTML & Flutter Icon Picker: Generate HTML embed code for websites or copy Flutter code for mobile apps. 1000+ Material Design icons with instant code generation. Free tool for web and Flutter developers.">
    <meta name="keywords" content="html icon picker, flutter icon picker, html embed code, flutter icons, material icons, icon embed generator, flutter code generator, material design icons, web icons, flutter development">
    <meta name="author" content="Flutter Icons Picker">
    <meta name="robots" content="index, follow">
    <meta name="language" content="en-US">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://fluttericons.com/">
    <meta property="og:title" content="HTML & Flutter Icon Picker - Generate Embed Code & Flutter Icons">
    <meta property="og:description" content="HTML & Flutter Icon Picker: Generate HTML embed code for websites or copy Flutter code for apps. 1000+ Material Design icons with instant code generation.">
    <meta property="og:image" content="https://fluttericons.com/og-image.png">
    <meta property="og:image:secure_url" content="https://fluttericons.com/og-image.png">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:image:type" content="image/png">
    <meta property="og:image:alt" content="HTML & Flutter Icon Picker - Generate Embed Code & Flutter Icons">
    <meta property="og:site_name" content="HTML & Flutter Icon Picker">
    <meta property="og:locale" content="en_US">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://fluttericons.com/">
    <meta property="twitter:title" content="HTML & Flutter Icon Picker - Generate Embed Code & Flutter Icons">
    <meta property="twitter:description" content="HTML & Flutter Icon Picker: Generate HTML embed code for websites or copy Flutter code for apps. 1000+ Material Design icons with instant code generation.">
    <meta property="twitter:image" content="https://fluttericons.com/og-image.png">
    <meta property="twitter:image:alt" content="HTML & Flutter Icon Picker - Generate Embed Code & Flutter Icons">
    <meta property="twitter:creator" content="@fluttericons">
    
    <!-- Additional SEO Meta Tags -->
    <meta name="theme-color" content="#0a0a0f">
    <meta name="msapplication-TileColor" content="#0a0a0f">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Flutter Icons">
    
    <!-- Additional favicon for search engines -->
    <link rel="shortcut icon" href="https://fluttericons.com/favicon.ico">
    <link rel="icon" href="https://fluttericons.com/favicon.ico" type="image/x-icon">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://www.fluttericons.com/">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="48x48" href="/favicon-48x48.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="192x192" href="/android-chrome-192x192.png">
    <link rel="icon" type="image/png" sizes="512x512" href="/android-chrome-512x512.png">
    <link rel="manifest" href="/site.webmanifest">
    <meta name="msapplication-TileImage" content="https://fluttericons.com/mstile-150x150.png">
    
    <!-- Preconnect to external domains -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "Website",
        "name": "HTML & Flutter Icon Picker",
        "url": "https://fluttericons.com/",
        "description": "HTML & Flutter Icon Picker: Generate HTML embed code for websites or copy Flutter code for mobile apps. 1000+ Material Design icons with instant code generation.",
        "publisher": {
            "@type": "Organization",
            "name": "HTML & Flutter Icon Picker"
        }
    }
    </script>
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "HTML & Flutter Icon Picker",
        "alternateName": "Flutter Icons Picker",
        "description": "A free web application that provides access to over 1000 Flutter Material Design icons. Users can browse, search, preview, and instantly copy Flutter code for any icon. Features include live preview with customizable size, color, and styling options (bold, inverted, rounded, outlined). Perfect for Flutter developers building mobile apps who need quick access to Material Design icons with ready-to-use code.",
        "url": "https://fluttericons.com/",
        "applicationCategory": "DeveloperApplication",
        "operatingSystem": "Web Browser",
        "screenshot": "https://fluttericons.com/og-image.png",
        "image": "https://fluttericons.com/og-image.png",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "USD",
            "availability": "https://schema.org/InStock"
        },
        "creator": {
            "@type": "Organization",
            "name": "HTML & Flutter Icon Picker",
            "url": "https://fluttericons.com/"
        },
        "inLanguage": "en-US",
        "isAccessibleForFree": true,
        "browserRequirements": "Requires JavaScript. Requires HTML5.",
        "softwareVersion": "1.0",
        "datePublished": "2024-01-01",
        "dateModified": "2025-01-27",
        "featureList": [
            "Browse 1000+ Flutter Material Design icons",
            "Search icons by name",
            "Live preview with customizable size and color",
            "One-click copy Flutter code to clipboard",
            "Customize icon style (bold, inverted, rounded, outlined)",
            "Mobile-responsive design",
            "Free to use"
        ]
    }
    </script>
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "FAQPage",
        "mainEntity": [
            {
                "@type": "Question",
                "name": "What is HTML & Flutter Icon Picker?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "HTML & Flutter Icon Picker is a free web tool that provides access to over 1000 Material Design icons. For web developers: generate HTML embed code to add icons to websites. For Flutter developers: copy Flutter code instantly. Users can browse, search, preview, and generate code with customizable styling options."
                }
            },
            {
                "@type": "Question",
                "name": "How do I use Flutter icons from this site?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "Simply browse or search for the icon you need, customize its size, color, and style using the controls, then click on the icon to copy the Flutter code. The generated code can be directly pasted into your Flutter project."
                }
            },
            {
                "@type": "Question",
                "name": "What types of Flutter icons are available?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "The site provides access to over 1000 Material Design icons including navigation icons, action icons, flag icons, and more. All icons are Material Design icons compatible with Flutter's Icons class."
                }
            },
            {
                "@type": "Question",
                "name": "Is Flutter Icons Picker free?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "Yes, Flutter Icons Picker is completely free to use. There are no fees, subscriptions, or registration required."
                }
            }
        ]
    }
    </script>
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "HowTo",
        "name": "How to Use Flutter Icons from FlutterIcons.com",
        "description": "Step-by-step guide to finding and using Flutter icons from the Flutter Icons Picker website",
        "image": "https://fluttericons.com/og-image.png",
        "totalTime": "PT2M",
        "step": [
            {
                "@type": "HowToStep",
                "name": "Browse or Search",
                "text": "Use the search bar to find a specific icon by name, or browse through the grid of 1000+ available icons."
            },
            {
                "@type": "HowToStep",
                "name": "Customize Icon",
                "text": "Adjust the icon size using the slider, select a color from the dropdown, and toggle styling options like bold, inverted, rounded, or outlined."
            },
            {
                "@type": "HowToStep",
                "name": "Copy Code",
                "text": "Click on any icon to automatically copy the Flutter code to your clipboard. The code includes all your customization settings."
            },
            {
                "@type": "HowToStep",
                "name": "Paste in Flutter",
                "text": "Paste the copied code directly into your Flutter project. The code is ready to use and includes all necessary imports."
            }
        ]
    }
    </script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: #ffffff;
            color: #1a1a1a;
            min-height: 100vh;
            overflow-x: hidden;
            transition: all 0.3s ease;
        }

        body.dark {
            background: #0a0a0f;
            color: #e4e4e7;
        }

        .background-pattern {
            position: fixed;
            inset: 0;
            background-image: 
                radial-gradient(circle at 20% 30%, rgba(56, 189, 248, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, rgba(168, 85, 247, 0.1) 0%, transparent 50%);
            pointer-events: none;
            transition: all 0.3s ease;
        }

        body.dark .background-pattern {
            background-image: 
                radial-gradient(circle at 20% 30%, rgba(56, 189, 248, 0.05) 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, rgba(168, 85, 247, 0.05) 0%, transparent 50%);
        }


        .container {
            max-width: 1600px;
            margin: 0 auto;
            padding: 20px 20px;
            position: relative;
            z-index: 1;
        }

        .header {
            margin-bottom: 20px;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 0 0 20px 20px;
            padding: 20px 0;
            margin: 0 0 20px 0;
        }

        body.dark .header {
            background: rgba(10, 10, 15, 0.95);
        }

        .theme-toggle {
            display: flex;
            align-items: center;
            gap: 12px;
            background: rgba(24, 24, 27, 0.6);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.08);
            border-radius: 12px;
            padding: 8px 16px;
        }

        .theme-toggle.light {
            background: rgba(255, 255, 255, 0.8);
            border: 1px solid rgba(0, 0, 0, 0.1);
        }

        .theme-toggle label {
            font-size: 0.85rem;
            color: #a1a1aa;
            font-weight: 500;
            cursor: pointer;
        }

        .theme-toggle.light label {
            color: #374151;
        }

        .theme-switch {
            position: relative;
            width: 50px;
            height: 24px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .theme-switch.light {
            background: rgba(0, 0, 0, 0.1);
        }

        .theme-switch::before {
            content: '';
            position: absolute;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #38bdf8;
            top: 2px;
            left: 2px;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .theme-switch.light::before {
            background: #fbbf24;
            left: 28px;
        }

        .theme-switch::after {
            content: 'üåô';
            position: absolute;
            top: 50%;
            left: 6px;
            transform: translateY(-50%);
            font-size: 12px;
            transition: all 0.3s;
        }

        .theme-switch.light::after {
            content: '‚òÄÔ∏è';
            left: 32px;
        }

        .header-top {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }

        .logo-area {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .flutter-logo {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #38bdf8, #a855f7);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            animation: float 3s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-5px); }
        }

        .header h1 {
            font-size: 1.8rem;
            font-weight: 700;
            letter-spacing: -0.02em;
            background: linear-gradient(135deg, #38bdf8, #a855f7);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .header p {
            font-size: 0.95rem;
            color: #6b7280;
            font-weight: 400;
            margin-top: 4px;
            transition: all 0.3s ease;
        }

        body.dark .header p {
            color: #a1a1aa;
        }

        .feature-note {
            font-size: 0.85rem;
            color: #6b7280;
            font-weight: 400;
            margin-top: 6px;
            line-height: 1.4;
        }

        body.dark .feature-note {
            color: #a1a1aa;
        }

        .search-panel {
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(0, 0, 0, 0.1);
            border-radius: 20px;
            padding: 20px;
            margin-bottom: 20px;
            transition: all 0.3s ease;
        }

        body.dark .search-panel {
            background: rgba(24, 24, 27, 0.6);
            border: 1px solid rgba(255, 255, 255, 0.08);
        }

        .search-wrapper {
            position: relative;
            margin-bottom: 20px;
        }

        .search-input {
            width: 100%;
            background: rgba(249, 250, 251, 0.8);
            border: 1px solid rgba(0, 0, 0, 0.1);
            border-radius: 12px;
            padding: 16px 50px 16px 20px;
            color: #1a1a1a;
            font-size: 0.95rem;
            transition: all 0.2s;
            font-family: inherit;
        }

        .search-input::placeholder {
            color: #9ca3af;
        }

        .search-input:focus {
            outline: none;
            background: rgba(249, 250, 251, 1);
            border-color: rgba(56, 189, 248, 0.5);
            box-shadow: 0 0 0 4px rgba(56, 189, 248, 0.1);
        }

        body.dark .search-input {
            background: rgba(39, 39, 42, 0.5);
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: #e4e4e7;
        }

        body.dark .search-input::placeholder {
            color: #71717a;
        }

        body.dark .search-input:focus {
            background: rgba(39, 39, 42, 0.8);
        }

        .search-icon {
            position: absolute;
            right: 16px;
            top: 50%;
            transform: translateY(-50%);
            color: #71717a;
            font-size: 20px;
        }

        .stats {
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 0.85rem;
            color: #6b7280;
            transition: all 0.3s ease;
        }

        body.dark .stats {
            color: #a1a1aa;
        }

        .stats-count {
            background: rgba(56, 189, 248, 0.1);
            color: #38bdf8;
            padding: 4px 10px;
            border-radius: 6px;
            font-weight: 500;
        }

        .controls-panel {
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(0, 0, 0, 0.1);
            border-radius: 20px;
            padding: 15px 20px;
            margin-bottom: 20px;
            display: flex;
            flex-direction: column;
            gap: 15px;
            transition: all 0.3s ease;
            width: 100%;
        }

        body.dark .controls-panel {
            background: rgba(24, 24, 27, 0.6);
            border: 1px solid rgba(255, 255, 255, 0.08);
        }

        .controls-row {
            display: flex;
            flex-wrap: wrap;
            gap: 24px;
            align-items: center;
            width: 100%;
        }

        .controls-row:last-child {
            justify-content: space-between;
        }

        .toggle-controls {
            display: flex;
            gap: 24px;
            align-items: center;
        }

        .control-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
            min-width: 120px;
        }


        .control-group label {
            font-size: 0.85rem;
            color: #6b7280;
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            transition: all 0.3s ease;
        }

        body.dark .control-group label {
            color: #a1a1aa;
        }

        .control-group input[type="range"] {
            width: 100%;
            height: 4px;
            background: rgba(0, 0, 0, 0.1);
            border-radius: 4px;
            outline: none;
            appearance: none;
            -webkit-appearance: none;
            transition: all 0.3s ease;
        }

        body.dark .control-group input[type="range"] {
            background: rgba(255, 255, 255, 0.1);
        }

        .control-group input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 16px;
            height: 16px;
            background: #38bdf8;
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.2s;
        }

        .control-group input[type="range"]::-webkit-slider-thumb:hover {
            background: #0ea5e9;
            transform: scale(1.1);
        }

        .control-group select {
            background: rgba(249, 250, 251, 0.8);
            border: 1px solid rgba(0, 0, 0, 0.1);
            color: #1a1a1a;
            padding: 8px 12px;
            border-radius: 8px;
            font-size: 0.85rem;
            cursor: pointer;
            font-family: inherit;
            transition: all 0.3s ease;
            width: auto;
            min-width: 120px;
        }

        body.dark .control-group select {
            background: rgba(39, 39, 42, 0.5);
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: #e4e4e7;
        }

        .control-group input[type="checkbox"] {
            width: 40px;
            height: 20px;
            background: rgba(0, 0, 0, 0.1);
            border-radius: 12px;
            position: relative;
            cursor: pointer;
            appearance: none;
            -webkit-appearance: none;
            transition: all 0.3s;
        }

        body.dark .control-group input[type="checkbox"] {
            background: rgba(255, 255, 255, 0.1);
        }

        .control-group input[type="checkbox"]:checked {
            background: #38bdf8 !important;
        }

        body.dark .control-group input[type="checkbox"]:checked {
            background: #38bdf8 !important;
        }

        .control-group input[type="checkbox"]::before {
            content: '';
            position: absolute;
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background: white;
            top: 2px;
            left: 2px;
            transition: all 0.3s;
        }

        .control-group input[type="checkbox"]:checked::before {
            left: 22px;
        }

        .size-value {
            font-size: 0.85rem;
            color: #38bdf8;
            font-weight: 600;
            min-width: 50px;
            cursor: text;
            padding: 2px 4px;
            border-radius: 4px;
            transition: background 0.2s;
        }

        .size-value:hover {
            background: rgba(56, 189, 248, 0.1);
        }

        .size-value:focus {
            outline: 2px solid #38bdf8;
            outline-offset: 2px;
            background: rgba(56, 189, 248, 0.15);
        }

        body.dark .size-value:hover {
            background: rgba(56, 189, 248, 0.2);
        }

        body.dark .size-value:focus {
            background: rgba(56, 189, 248, 0.25);
        }

        .reset-link {
            color: #38bdf8;
            font-weight: bold;
            text-decoration: underline;
            cursor: pointer;
            font-size: 0.85rem;
            transition: all 0.2s;
        }

        .reset-link:hover {
            color: #0ea5e9;
            text-decoration: none;
        }

        .icons-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
            gap: 16px;
            padding-right: 8px;
            scroll-margin-top: 20px;
            align-items: start;
        }

        #icons {
            scroll-margin-top: 20px;
            position: relative;
            top: -20px;
            visibility: hidden;
            height: 0;
        }

        .icons-grid::-webkit-scrollbar {
            width: 8px;
        }

        .icons-grid::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
        }

        .icons-grid::-webkit-scrollbar-thumb {
            background: rgba(56, 189, 248, 0.3);
            border-radius: 10px;
        }

        .icons-grid::-webkit-scrollbar-thumb:hover {
            background: rgba(56, 189, 248, 0.5);
        }

        .icon-item {
            background: rgba(255, 255, 255, 0.6);
            border: 1px solid rgba(0, 0, 0, 0.1);
            border-radius: 12px;
            padding: 24px 16px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: visible;
            width: 100%;
            max-width: 100%;
            box-sizing: border-box;
            min-width: 0;
        }

        body.dark .icon-item {
            background: rgba(24, 24, 27, 0.4);
            border: 1px solid rgba(255, 255, 255, 0.08);
        }

        .icon-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(56, 189, 248, 0.1), rgba(168, 85, 247, 0.1));
            opacity: 0;
            transition: opacity 0.3s;
        }

        .icon-item:hover {
            border-color: rgba(56, 189, 248, 0.5);
            transform: translateY(-4px);
            box-shadow: 0 12px 24px rgba(0, 0, 0, 0.3);
        }

        .icon-item:hover::before {
            opacity: 1;
        }

        .icon-item.copied {
            border-color: #10b981;
            background: rgba(16, 185, 129, 0.1);
        }

        .icon-item.copied::after {
            content: 'Copied';
            position: absolute;
            top: 8px;
            right: 8px;
            background: #10b981;
            color: white;
            padding: 4px 8px;
            border-radius: 6px;
            font-size: 0.7rem;
            font-weight: 600;
            animation: slideIn 0.3s;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .icon-display {
            font-size: 2.5rem;
            color: #1a1a1a;
            margin-bottom: 12px;
            display: block;
            transition: all 0.3s;
            position: relative;
            z-index: 1;
            border-radius: 8px;
            padding: 8px;
        }

        body.dark .icon-display {
            color: #e4e4e7;
        }

        .icon-display.bold {
            font-weight: bold;
        }

        .icon-display.inverted {
            filter: invert(1);
        }

        .icon-item:hover .icon-display.inverted {
            filter: invert(1) brightness(1.2);
        }

        .icon-display.rounded {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            padding: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 12px;
        }

        .icon-display.rounded.inverted {
            border: 3px solid rgba(255, 255, 255, 0.3);
        }

        .icon-display.outlined {
            -webkit-text-stroke: 2px currentColor;
            -webkit-text-fill-color: transparent;
        }

        .icon-item:hover .icon-display {
            transform: scale(1.1);
        }

        .icon-name {
            font-size: 0.8rem;
            color: #6b7280;
            font-family: 'Courier New', monospace;
            word-break: break-word;
            line-height: 1.4;
            position: relative;
            z-index: 1;
            transition: all 0.3s ease;
        }

        body.dark .icon-name {
            color: #a1a1aa;
        }

        .toast {
            position: fixed;
            bottom: 24px;
            left: 24px;
            background: rgba(24, 24, 27, 0.95);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(16, 185, 129, 0.3);
            color: #10b981;
            padding: 16px 20px;
            border-radius: 12px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
            transform: translateY(100px);
            opacity: 0;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 1001;
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 0.9rem;
        }

        .toast.show {
            transform: translateY(0);
            opacity: 1;
        }

        .code-panel {
            position: fixed;
            bottom: 24px;
            right: 24px;
            background: rgba(24, 24, 27, 0.95);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(56, 189, 248, 0.2);
            border-radius: 12px;
            padding: 16px 20px;
            max-width: 400px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
            z-index: 1000;
            opacity: 0;
            transform: translateY(100px);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            display: none;
        }

        .code-drawer {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(24, 24, 27, 0.95);
            backdrop-filter: blur(20px);
            border-top: 1px solid rgba(56, 189, 248, 0.2);
            border-radius: 16px 16px 0 0;
            padding: 16px 20px 20px 20px;
            z-index: 1000;
            transform: translateY(calc(100% - 40px));
            transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            display: none;
        }

        .code-drawer.show {
            transform: translateY(0);
        }

        .drawer-handle {
            width: 40px;
            height: 4px;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 2px;
            margin: 0 auto 16px auto;
            cursor: grab;
        }

        .drawer-handle:active {
            cursor: grabbing;
        }

        .code-panel.show {
            opacity: 1;
            transform: translateY(0);
            display: block;
        }

        .code-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
        }

        .code-label {
            color: #71717a;
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            font-weight: 600;
        }

        .copy-code-btn {
            background: rgba(56, 189, 248, 0.1);
            border: 1px solid rgba(56, 189, 248, 0.2);
            border-radius: 6px;
            padding: 4px 6px;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .copy-code-btn:hover {
            background: rgba(56, 189, 248, 0.2);
            border-color: rgba(56, 189, 248, 0.4);
        }

        .copy-code-btn .material-icons {
            font-size: 16px;
            color: #38bdf8;
        }

        .code-text {
            color: #38bdf8;
            font-family: 'Courier New', monospace;
            font-size: 0.85rem;
            line-height: 1.6;
            word-break: break-all;
        }

        .no-results {
            grid-column: 1 / -1;
            text-align: center;
            padding: 80px 20px;
            color: #9ca3af;
            transition: all 0.3s ease;
        }

        body.dark .no-results {
            color: #71717a;
        }

        .no-results .material-icons {
            font-size: 5rem;
            margin-bottom: 16px;
            opacity: 0.3;
        }

        .no-results p {
            font-size: 1.1rem;
        }

        .category-filter {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-bottom: 16px;
            padding: 12px;
            background: rgba(255, 255, 255, 0.6);
            border-radius: 12px;
            border: 1px solid rgba(0, 0, 0, 0.1);
        }

        body.dark .category-filter {
            background: rgba(24, 24, 27, 0.4);
            border: 1px solid rgba(255, 255, 255, 0.08);
        }

        .collection-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 12px;
            margin-bottom: 12px;
            padding: 12px;
            background: rgba(255, 255, 255, 0.6);
            border-radius: 12px;
            border: 1px solid rgba(0, 0, 0, 0.1);
        }

        body.dark .collection-buttons {
            background: rgba(24, 24, 27, 0.4);
            border: 1px solid rgba(255, 255, 255, 0.08);
        }

        .my-lists-label {
            font-size: 0.9rem;
            font-weight: 600;
            color: #374151;
            margin-right: 8px;
            align-self: center;
        }

        body.dark .my-lists-label {
            color: #e4e4e7;
        }

        .category-btn {
            padding: 6px 12px;
            border-radius: 8px;
            border: 1px solid rgba(0, 0, 0, 0.1);
            background: rgba(255, 255, 255, 0.8);
            color: #1a1a1a;
            font-size: 0.85rem;
            cursor: pointer;
            transition: all 0.2s;
            font-family: inherit;
        }

        body.dark .category-btn {
            background: rgba(39, 39, 42, 0.5);
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: #e4e4e7;
        }

        .category-btn:hover:not(.active) {
            background: rgba(56, 189, 248, 0.1);
            border-color: rgba(56, 189, 248, 0.3);
        }

        body.dark .category-btn:hover:not(.active) {
            background: rgba(56, 189, 248, 0.15);
            border-color: rgba(56, 189, 248, 0.4);
        }

        .category-btn.active {
            background: #38bdf8 !important;
            color: white !important;
            border-color: #38bdf8 !important;
        }

        body.dark .category-btn.active {
            background: #38bdf8 !important;
            color: white !important;
            border-color: #38bdf8 !important;
        }

        .collection-btn {
            padding: 6px 12px;
            border-radius: 8px;
            border: 1px solid rgba(0, 0, 0, 0.1);
            background: rgba(255, 255, 255, 0.8);
            color: #1a1a1a;
            font-size: 0.85rem;
            cursor: pointer;
            transition: all 0.2s;
            font-family: inherit;
        }

        body.dark .collection-btn {
            background: rgba(39, 39, 42, 0.5);
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: #e4e4e7;
        }

        .collection-btn:hover:not(.active):not(:disabled) {
            background: rgba(56, 189, 248, 0.1);
            border-color: rgba(56, 189, 248, 0.3);
        }

        body.dark .collection-btn:hover:not(.active):not(:disabled) {
            background: rgba(56, 189, 248, 0.15);
            border-color: rgba(56, 189, 248, 0.4);
        }

        .collection-btn.active {
            background: #38bdf8 !important;
            color: white !important;
            border-color: #38bdf8 !important;
        }

        .collection-btn.selected {
            border: 2px solid #38bdf8;
            background: rgba(56, 189, 248, 0.1);
            color: #38bdf8;
        }

        body.dark .collection-btn.selected {
            background: rgba(56, 189, 248, 0.15);
            border-color: #38bdf8;
            color: #38bdf8;
        }

        .collection-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .collection-action-btn {
            padding: 6px 12px;
            border-radius: 8px;
            border: 1px solid rgba(0, 0, 0, 0.1);
            background: rgba(255, 255, 255, 0.8);
            color: #1a1a1a;
            font-size: 0.85rem;
            cursor: pointer;
            transition: all 0.2s;
            font-family: inherit;
            min-width: 32px;
        }

        body.dark .collection-action-btn {
            background: rgba(39, 39, 42, 0.5);
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: #e4e4e7;
        }

        .collection-action-btn:hover:not(:disabled) {
            background: rgba(56, 189, 248, 0.1);
            border-color: rgba(56, 189, 248, 0.3);
        }

        .collection-action-btn.delete-btn:hover:not(:disabled) {
            background: rgba(244, 63, 94, 0.1);
            border-color: rgba(244, 63, 94, 0.3);
        }

        .collection-action-btn:disabled {
            opacity: 0.3;
            cursor: not-allowed;
        }

        /* Custom tooltips that appear instantly */
        .collection-btn,
        .collection-action-btn {
            position: relative;
        }

        .collection-btn:hover::after,
        .collection-action-btn:hover::after {
            content: attr(data-title);
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%);
            padding: 6px 10px;
            background: rgba(0, 0, 0, 0.9);
            color: white;
            font-size: 0.75rem;
            white-space: nowrap;
            border-radius: 6px;
            pointer-events: none;
            z-index: 1000;
            margin-bottom: 6px;
            opacity: 0;
            animation: tooltipFadeIn 0.05s ease-out forwards;
        }

        body.dark .collection-btn:hover::after,
        body.dark .collection-action-btn:hover::after {
            background: rgba(255, 255, 255, 0.95);
            color: #1a1a1a;
        }

        @keyframes tooltipFadeIn {
            from {
                opacity: 0;
                transform: translateX(-50%) translateY(4px);
            }
            to {
                opacity: 1;
                transform: translateX(-50%) translateY(0);
            }
        }

        /* Remove default browser tooltip delay by removing title on hover */
        .collection-btn:hover,
        .collection-action-btn:hover {
            text-decoration: none;
        }

        .favorites-panel, .recent-panel {
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(0, 0, 0, 0.1);
            border-radius: 12px;
            padding: 12px;
            margin-bottom: 16px;
            display: none;
        }

        body.dark .favorites-panel, body.dark .recent-panel {
            background: rgba(24, 24, 27, 0.6);
            border: 1px solid rgba(255, 255, 255, 0.08);
        }

        .favorites-panel.show, .recent-panel.show {
            display: block;
        }

        .panel-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }

        .panel-title {
            font-size: 0.9rem;
            font-weight: 600;
            color: #1a1a1a;
        }

        body.dark .panel-title {
            color: #e4e4e7;
        }

        .panel-icons {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }

        .panel-icon-item {
            padding: 8px;
            border-radius: 8px;
            border: 1px solid rgba(0, 0, 0, 0.1);
            background: rgba(255, 255, 255, 0.6);
            cursor: pointer;
            transition: all 0.2s;
            text-align: center;
            min-width: 60px;
        }

        body.dark .panel-icon-item {
            background: rgba(39, 39, 42, 0.5);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .panel-icon-item:hover {
            background: rgba(56, 189, 248, 0.1);
            border-color: rgba(56, 189, 248, 0.3);
        }

        .panel-icon-item .material-icons {
            font-size: 1.5rem;
            display: block;
            margin-bottom: 4px;
        }

        .panel-icon-name {
            font-size: 0.7rem;
            color: #6b7280;
            word-break: break-word;
        }

        body.dark .panel-icon-name {
            color: #a1a1aa;
        }

        .icon-item .favorite-btn {
            position: absolute;
            top: 8px;
            right: 8px;
            background: rgba(255, 255, 255, 0.9);
            border: none;
            border-radius: 50%;
            width: 28px;
            height: 28px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            opacity: 0;
            transition: all 0.2s;
            z-index: 2;
        }

        .icon-item:hover .favorite-btn {
            opacity: 1;
        }

        .icon-item .favorite-btn.favorited {
            opacity: 1;
            color: #fbbf24;
        }

        .icon-item .favorite-btn .material-icons {
            font-size: 18px;
        }

        .icon-item .embed-btn {
            position: absolute;
            top: 8px;
            left: 8px;
            background: rgba(255, 255, 255, 0.9);
            border: none;
            border-radius: 50%;
            width: 28px;
            height: 28px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            opacity: 0;
            transition: all 0.2s;
            z-index: 2;
            color: #333;
        }

        body.dark .icon-item .embed-btn {
            background: rgba(24, 24, 27, 0.9);
            color: #e4e4e7;
        }

        .icon-item:hover .embed-btn {
            opacity: 1;
        }

        .icon-item .embed-btn:hover {
            background: rgba(56, 189, 248, 0.2);
            transform: scale(1.1);
        }

        .icon-item .embed-btn span {
            font-size: 10px;
            font-weight: 600;
            line-height: 1;
        }

        .icon-button-tooltip {
            position: fixed;
            padding: 6px 10px;
            background: rgba(0, 0, 0, 0.9);
            color: white;
            font-size: 0.75rem;
            white-space: nowrap;
            border-radius: 6px;
            pointer-events: none;
            z-index: 10000;
            opacity: 0;
            animation: tooltipFadeIn 0.05s ease-out forwards;
        }

        body.dark .icon-button-tooltip {
            background: rgba(255, 255, 255, 0.95);
            color: #1a1a1a;
        }

        body.dark .icon-item .embed-btn:hover::after,
        body.dark .icon-item .favorite-btn:hover::after {
            background: rgba(255, 255, 255, 0.95);
            color: #1a1a1a;
        }

        .icon-item .select-checkbox {
            position: absolute;
            top: 8px;
            left: 8px;
            width: 20px;
            height: 20px;
            border: 2px solid rgba(0, 0, 0, 0.3);
            border-radius: 4px;
            background: rgba(255, 255, 255, 0.9);
            cursor: pointer;
            opacity: 0;
            transition: all 0.2s;
            z-index: 2;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        body.dark .icon-item .select-checkbox {
            border-color: rgba(255, 255, 255, 0.3);
            background: rgba(39, 39, 42, 0.9);
        }

        .icon-item.select-mode .select-checkbox {
            opacity: 1;
        }

        .icon-item .select-checkbox.checked {
            background: #38bdf8;
            border-color: #38bdf8;
            opacity: 1;
        }

        .icon-item .select-checkbox.checked::after {
            content: '‚úì';
            color: white;
            font-size: 14px;
            font-weight: bold;
        }

        .icon-item.select-mode:hover .select-checkbox {
            opacity: 1;
        }

        .collection-panel {
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(0, 0, 0, 0.1);
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 16px;
            display: none;
        }

        body.dark .collection-panel {
            background: rgba(24, 24, 27, 0.6);
            border: 1px solid rgba(255, 255, 255, 0.08);
        }

        .collection-panel.show {
            display: block;
        }

        .collection-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }

        .collection-actions {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }

        .collection-btn {
            padding: 8px 16px;
            border-radius: 8px;
            border: 1px solid rgba(56, 189, 248, 0.3);
            background: rgba(56, 189, 248, 0.1);
            color: #38bdf8;
            font-size: 0.85rem;
            cursor: pointer;
            transition: all 0.2s;
            font-family: inherit;
        }

        .collection-btn:hover {
            background: rgba(56, 189, 248, 0.2);
            border-color: rgba(56, 189, 248, 0.5);
        }

        .collection-btn.primary {
            background: #38bdf8;
            color: white;
            border-color: #38bdf8;
        }

        .collection-btn.primary:hover {
            background: #0ea5e9;
            border-color: #0ea5e9;
        }

        .collection-icons-list {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 12px;
        }

        .collection-icon-badge {
            display: flex;
            align-items: center;
            gap: 6px;
            padding: 6px 10px;
            background: rgba(56, 189, 248, 0.1);
            border: 1px solid rgba(56, 189, 248, 0.2);
            border-radius: 6px;
            font-size: 0.8rem;
        }

        .collection-icon-badge .material-icons {
            font-size: 16px;
            color: #38bdf8;
        }

        .collection-icon-badge .icon-name {
            color: #1a1a1a;
        }

        body.dark .collection-icon-badge {
            background: rgba(56, 189, 248, 0.15);
            border-color: rgba(56, 189, 248, 0.3);
        }

        body.dark .collection-icon-badge .icon-name {
            color: #e4e4e7;
        }

        .collection-icon-badge .remove-btn {
            background: none;
            border: none;
            color: #6b7280;
            cursor: pointer;
            padding: 0;
            margin-left: 4px;
            font-size: 16px;
            line-height: 1;
        }

        body.dark .collection-icon-badge .remove-btn {
            color: #a1a1aa;
        }

        .collection-icon-badge .remove-btn:hover {
            color: #f43f5e;
        }

        .share-link-input {
            width: 100%;
            padding: 8px 12px;
            border: 1px solid rgba(0, 0, 0, 0.1);
            border-radius: 6px;
            background: rgba(255, 255, 255, 0.9);
            color: #1a1a1a;
            font-size: 0.85rem;
            font-family: 'Courier New', monospace;
            margin-top: 8px;
        }

        body.dark .share-link-input {
            background: rgba(39, 39, 42, 0.8);
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: #e4e4e7;
        }

        .collection-selector {
            background: rgba(249, 250, 251, 0.8);
            border: 1px solid rgba(0, 0, 0, 0.1);
            border-radius: 8px;
            padding: 6px 12px;
            font-size: 0.85rem;
            cursor: pointer;
            color: #1a1a1a;
            font-family: inherit;
            min-width: 120px;
        }

        body.dark .collection-selector {
            background: rgba(39, 39, 42, 0.5);
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: #e4e4e7;
        }

        .collection-btn-small {
            background: rgba(56, 189, 248, 0.1);
            border: 1px solid rgba(56, 189, 248, 0.2);
            border-radius: 8px;
            padding: 6px 10px;
            font-size: 0.85rem;
            cursor: pointer;
            color: #38bdf8;
            transition: all 0.2s;
            font-family: inherit;
        }

        .collection-btn-small:hover {
            background: rgba(56, 189, 248, 0.2);
        }

        .share-btn {
            background: #38bdf8;
            color: white;
            border-color: #38bdf8;
        }

        .share-btn:hover {
            background: #0ea5e9;
        }

        @media (max-width: 768px) {
            .container {
                padding: 20px 16px;
            }

            .header h1 {
                font-size: 1.5rem;
            }

            .header-top {
                flex-direction: row;
                justify-content: space-between;
                align-items: center;
                gap: 12px;
            }

            .theme-toggle {
                padding: 4px 8px;
                gap: 6px;
            }

            .theme-toggle label {
                font-size: 0.75rem;
            }

            .logo-area h1 {
                font-size: 1.3rem;
            }

            .icons-grid {
                grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
                gap: 12px;
            }

            .controls-panel {
                flex-direction: column;
                align-items: flex-start;
                gap: 16px;
                width: 100%;
            }

            .controls-row {
                flex-direction: column;
                gap: 16px;
                width: 100%;
            }

            .control-group {
                width: 100%;
                min-width: auto;
            }

            .toggle-controls {
                display: grid;
                grid-template-columns: repeat(2, 1fr);
                gap: 16px;
                width: 100%;
            }

            .code-panel {
                display: none !important;
            }

            .code-drawer {
                display: block;
            }

            .toast {
                left: 16px;
                right: 16px;
                bottom: 16px;
                z-index: 1001;
            }
        }
    </style>
</head>
<body>
    <div class="background-pattern"></div>

    <div class="container">
        <div class="header">
            <div class="header-top">
                <div class="logo-area">
                    <div class="flutter-logo">‚ö°</div>
                    <h1>Flutter Icons</h1>
                </div>
                <div class="theme-toggle light" id="themeToggle">
                    <label for="themeSwitch">Dark Mode</label>
                    <div class="theme-switch light" id="themeSwitch"></div>
                </div>
            </div>
            <p>Material Design icons for web & Flutter projects.</p>
            <p class="feature-note"><strong>Web:</strong> HTML button = embed code ‚Ä¢ <strong>Flutter:</strong> Click icon = Flutter code ‚Ä¢ <strong>Shareable lists:</strong> Curate your icon lists and share them with others</p>
        </div>


        <div class="search-panel">
            <div class="search-wrapper">
                <input type="text" class="search-input" id="searchInput" placeholder="Search 1000+ material icons...">
                <span class="material-icons search-icon">search</span>
            </div>
            <div class="category-filter" id="categoryFilter"></div>
            <div class="collection-buttons" id="collectionButtons">
                <!-- Collections will be added here -->
            </div>
            <div class="stats">
                <span>Showing</span>
                <span class="stats-count"><span id="visibleCount">0</span> / <span id="totalCount">0</span></span>
                <span>icons</span>
            </div>
        </div>


        <div class="controls-panel">
            <div class="controls-row">
                <div class="control-group">
                    <label>Size</label>
                    <input type="range" id="iconSize" min="0" max="100" step="1" value="25">
                    <span class="size-value" id="sizeValue" contenteditable="true" style="cursor: text; min-width: 50px; display: inline-block; padding: 2px 4px; border-radius: 4px; transition: background 0.2s;" onblur="handleSizeValueEdit(this)">2.5rem</span>
                </div>
                
                <div class="control-group">
                    <label>Color</label>
                    <select id="iconColor">
                        <option value="#000000">Black</option>
                        <option value="#ffffff">White</option>
                        <option value="#1a1a1a" selected>Dark Grey</option>
                        <option value="#e4e4e7">Light Grey</option>
                        <option value="#38bdf8">Sky</option>
                        <option value="#10b981">Emerald</option>
                        <option value="#f43f5e">Rose</option>
                        <option value="#fbbf24">Amber</option>
                        <option value="#a855f7">Purple</option>
                        <option value="#fb923c">Orange</option>
                        <option value="#2dd4bf">Teal</option>
                    </select>
                </div>
                
                <div class="control-group">
                    <label>Background</label>
                    <select id="backgroundColor">
                        <option value="transparent">Transparent</option>
                        <option value="#000000">Black</option>
                        <option value="#ffffff">White</option>
                        <option value="#1a1a1a">Dark</option>
                        <option value="#38bdf8">Sky</option>
                        <option value="#10b981">Emerald</option>
                        <option value="#f43f5e">Rose</option>
                        <option value="#fbbf24">Amber</option>
                        <option value="#a855f7">Purple</option>
                    </select>
                </div>
            </div>
            
            <div class="controls-row">
                <div class="toggle-controls">
                    <div class="control-group">
                        <input type="checkbox" id="boldToggle">
                        <label>Bold</label>
                    </div>
                    
                    <div class="control-group">
                        <input type="checkbox" id="invertToggle">
                        <label>Invert</label>
                    </div>
                    
                    <div class="control-group">
                        <input type="checkbox" id="roundedToggle">
                        <label>Rounded</label>
                    </div>
                    
                    <div class="control-group">
                        <input type="checkbox" id="outlinedToggle">
                        <label>Outlined</label>
                    </div>
                    
                    <div class="control-group">
                        <input type="checkbox" id="darkPreviewToggle">
                        <label>Dark Preview</label>
                    </div>
                </div>
                
                <span class="reset-link" onclick="resetSettings()">Reset</span>
            </div>
        </div>

        <div id="icons"></div>
        <div class="icons-grid" id="iconsGrid"></div>
        
        <div style="position: absolute; left: -10000px; top: auto; width: 1px; height: 1px; overflow: hidden;">
            <article>
                <h1>Flutter Icons List - Complete Flutter Icon Library</h1>
                <h2>About Flutter Icons Picker</h2>
                <p>Flutter Icons Picker is a free, web-based tool that provides developers with instant access to over 1000 Flutter Material Design icons. This application allows users to browse, search, preview, and copy Flutter code for any Material Design icon with customizable styling options. Unlike design tools like Figma that require manual conversion, Flutter Icons Picker generates ready-to-use Flutter code instantly.</p>
                
                <h2>Flutter Material Icons Library</h2>
                <p>This Flutter Icons Picker provides access to over 1000 Material Design icons for Flutter development. Browse our complete Flutter icons list to find the perfect Flutter icon for your project. Unlike icons for Figma, these are ready-to-use Flutter icons with instant code generation. Features include:</p>
                <ul>
                    <li>Complete Flutter icons list with 1000+ Material Design icons</li>
                    <li>Flutter flag icons and country flag icons included</li>
                    <li>Search functionality to find any Flutter icon by name</li>
                    <li>Live preview with customizable size, color, and styling</li>
                    <li>One-click copy to clipboard with proper Flutter code syntax</li>
                    <li>Bold, inverted, rounded, and outlined icon styles</li>
                    <li>Mobile-responsive design for all devices</li>
                    <li>Free tool for Flutter developers and designers</li>
                    <li>Perfect for Flutter templates and app development</li>
                    <li>No registration or account required</li>
                </ul>
                
                <h2>Flutter Icons vs Icons for Figma</h2>
                <p>While icons for Figma are great for design mockups, Flutter Icons Picker provides ready-to-use code for your Flutter apps. Our Flutter icons list includes flag icons, navigation icons, action icons, and all Material Design icons with instant Flutter code generation. This eliminates the need to manually convert design assets to Flutter code.</p>
                
                <h2>How to Use Flutter Icons</h2>
                <p>Using Flutter Icons Picker is simple: (1) Browse or search for the icon you need, (2) Customize the icon size, color, and style using the controls, (3) Click on the icon to copy the Flutter code to your clipboard, (4) Paste the code directly into your Flutter project. The generated code includes all customization settings and is ready to use immediately.</p>
                
                <h2>Popular Flutter Icons</h2>
                <p>Common Flutter icons available include: home, search, settings, person, email, phone, star, favorite, bookmark, share, download, upload, edit, delete, add, remove, check, close, menu, arrow, navigation, location, time, date, calendar, notification, and many more. Our Flutter icons list also includes Flutter flag icons for country selection. Browse our Flutter icons list to find the perfect Flutter icon for your app.</p>
                
                <h2>Flutter Templates and Icon Usage</h2>
                <p>These Flutter icons are perfect for Flutter templates and app development. Simply click on any Flutter icon to copy the Flutter code. Use the customization options to adjust size, color, and style. The generated code can be directly pasted into your Flutter project. Our Flutter icons list makes it easy to find and use any Flutter icon you need for your Flutter templates.</p>
                
                <h2>Technical Details</h2>
                <p>Flutter Icons Picker uses Flutter's built-in Material Icons library. All icons are accessed through the Icons class in Flutter, which is part of the material package. The tool generates code in the format: Icons.icon_name with optional styling parameters for size, color, and style customization.</p>
            </article>
        </div>
    </div>

    <div class="toast" id="toast">
        <span class="material-icons" style="font-size: 20px;">check_circle</span>
        <span id="toastText">Copied to clipboard</span>
    </div>

    <div class="code-panel" id="codePanel">
        <div class="code-header">
            <div class="code-label">Flutter Code</div>
            <button class="copy-code-btn" id="copyCodeBtn" onclick="copyCodeToClipboard()">
                <span class="material-icons">content_copy</span>
            </button>
        </div>
        <div class="code-text" id="codeText">Icons.home</div>
    </div>

    <div class="code-drawer" id="codeDrawer">
        <div class="drawer-handle" id="drawerHandle"></div>
        <div class="code-header">
            <div class="code-label">Flutter Code</div>
            <button class="copy-code-btn" id="copyCodeBtnDrawer" onclick="copyCodeToClipboard()">
                <span class="material-icons">content_copy</span>
            </button>
        </div>
        <div class="code-text" id="codeTextDrawer">Icons.home</div>
    </div>

    <script>
        const flutterIcons = [
            '3d_rotation', 'access_alarm', 'access_alarms', 'access_time', 'accessibility', 'accessibility_new',
            'accessible', 'accessible_forward', 'account_balance', 'account_balance_wallet', 'account_box',
            'account_circle', 'account_tree', 'ad_units', 'adb', 'add', 'add_a_photo', 'add_alarm', 'add_alert',
            'add_box', 'add_business', 'add_call', 'add_card', 'add_chart', 'add_circle', 'add_circle_outline',
            'add_comment', 'add_home', 'add_home_work', 'add_ic_call', 'add_link', 'add_location', 'add_location_alt',
            'add_moderator', 'add_photo_alternate', 'add_reaction', 'add_road', 'add_shopping_cart', 'add_task',
            'add_to_drive', 'add_to_home_screen', 'add_to_photos', 'add_to_queue', 'addchart', 'adf_scanner',
            'adjust', 'admin_panel_settings', 'ads_click', 'agriculture', 'air', 'airline_seat_flat',
            'airline_seat_flat_angled', 'airline_seat_individual_suite', 'airline_seat_legroom_extra',
            'airline_seat_legroom_normal', 'airline_seat_legroom_reduced', 'airline_seat_recline_extra',
            'airline_seat_recline_normal', 'airline_stops', 'airlines', 'airplane_ticket', 'airplanemode_active',
            'airplanemode_inactive', 'airplay', 'airport_shuttle', 'alarm', 'alarm_add', 'alarm_off', 'alarm_on',
            'album', 'align_horizontal_center', 'align_horizontal_left', 'align_horizontal_right',
            'align_vertical_bottom', 'align_vertical_center', 'align_vertical_top', 'all_inclusive',
            'all_out', 'alt_route', 'alternate_email', 'amp_stories', 'analytics', 'anchor', 'android',
            'animation', 'announcement', 'aod', 'apartment', 'api', 'app_blocking', 'app_registration',
            'app_settings_alt', 'app_shortcut', 'apple', 'approval', 'apps', 'apps_outage', 'architecture',
            'archive', 'area_chart', 'arrow_back', 'arrow_back_ios', 'arrow_back_ios_new', 'arrow_circle_down',
            'arrow_circle_left', 'arrow_circle_right', 'arrow_circle_up', 'arrow_downward', 'arrow_drop_down',
            'arrow_drop_down_circle', 'arrow_drop_up', 'arrow_forward', 'arrow_forward_ios', 'arrow_left',
            'arrow_outward', 'arrow_right', 'arrow_right_alt', 'arrow_upward', 'art_track', 'article',
            'aspect_ratio', 'assessment', 'assignment', 'assignment_ind', 'assignment_late', 'assignment_return',
            'assignment_returned', 'assignment_turned_in', 'assistant', 'assistant_direction', 'assistant_navigation',
            'assistant_photo', 'atm', 'attach_email', 'attach_file', 'attach_money', 'attachment', 'attractions',
            'attribution', 'audio_file', 'audiotrack', 'auto_awesome', 'auto_awesome_mosaic', 'auto_awesome_motion',
            'auto_delete', 'auto_fix_high', 'auto_fix_normal', 'auto_fix_off', 'auto_graph', 'auto_mode',
            'auto_stories', 'autofps_select', 'autorenew', 'av_timer', 'baby_changing_station', 'back_hand',
            'backpack', 'backspace', 'backup', 'backup_table', 'badge', 'bakery_dining', 'balance', 'balcony',
            'ballot', 'bar_chart', 'batch_prediction', 'bathroom', 'bathtub', 'battery_0_bar', 'battery_1_bar',
            'battery_2_bar', 'battery_3_bar', 'battery_4_bar', 'battery_5_bar', 'battery_6_bar', 'battery_alert',
            'battery_charging_full', 'battery_full', 'battery_saver', 'battery_std', 'battery_unknown',
            'beach_access', 'bed', 'bedroom_baby', 'bedroom_child', 'bedroom_parent', 'bedtime', 'bedtime_off',
            'beenhere', 'bento', 'bike_scooter', 'biotech', 'blender', 'blind', 'blinds', 'blinds_closed',
            'block', 'block_flipped', 'bloodtype', 'bluetooth', 'bluetooth_audio', 'bluetooth_connected',
            'bluetooth_disabled', 'bluetooth_drive', 'bluetooth_searching', 'blur_circular', 'blur_linear',
            'blur_off', 'blur_on', 'bolt', 'book', 'book_online', 'bookmark', 'bookmark_add', 'bookmark_added',
            'bookmark_border', 'bookmark_remove', 'bookmarks', 'border_all', 'border_bottom', 'border_clear',
            'border_color', 'border_horizontal', 'border_inner', 'border_left', 'border_outer', 'border_right',
            'border_style', 'border_top', 'border_vertical', 'boy', 'branding_watermark', 'breakfast_dining',
            'brightness_1', 'brightness_2', 'brightness_3', 'brightness_4', 'brightness_5', 'brightness_6',
            'brightness_7', 'brightness_auto', 'brightness_high', 'brightness_low', 'brightness_medium',
            'broadcast_on_home', 'broadcast_on_personal', 'broken_image', 'browse_gallery', 'browser_not_supported',
            'browser_updated', 'brunch_dining', 'brush', 'bubble_chart', 'bug_report', 'build', 'build_circle',
            'bungalow', 'burst_mode', 'bus_alert', 'business', 'business_center', 'cabin', 'cable', 'cached',
            'cake', 'calculate', 'calendar_month', 'calendar_today', 'calendar_view_day', 'calendar_view_month',
            'calendar_view_week', 'call', 'call_end', 'call_made', 'call_merge', 'call_missed', 'call_missed_outgoing',
            'call_received', 'call_split', 'call_to_action', 'camera', 'camera_alt', 'camera_enhance',
            'camera_front', 'camera_indoor', 'camera_outdoor', 'camera_rear', 'camera_roll', 'cameraswitch',
            'campaign', 'cancel', 'cancel_presentation', 'cancel_schedule_send', 'candlestick_chart', 'car_crash',
            'car_rental', 'car_repair', 'card_giftcard', 'card_membership', 'card_travel', 'carpenter',
            'cases', 'casino', 'cast', 'cast_connected', 'cast_for_education', 'castle', 'catching_pokemon',
            'category', 'celebration', 'cell_tower', 'cell_wifi', 'center_focus_strong', 'center_focus_weak',
            'chair', 'chair_alt', 'chalet', 'change_circle', 'change_history', 'charging_station', 'chat',
            'chat_bubble', 'chat_bubble_outline', 'check', 'check_box', 'check_box_outline_blank', 'check_circle',
            'check_circle_outline', 'checklist', 'checklist_rtl', 'checkroom', 'child_care', 'child_friendly',
            'chrome_reader_mode', 'church', 'circle', 'circle_notifications', 'class', 'clean_hands',
            'cleaning_services', 'clear', 'clear_all', 'close', 'close_fullscreen', 'closed_caption',
            'closed_caption_disabled', 'closed_caption_off', 'cloud', 'cloud_circle', 'cloud_done', 'cloud_download',
            'cloud_off', 'cloud_queue', 'cloud_sync', 'cloud_upload', 'cloudy_snowing', 'co2', 'co_present',
            'code', 'code_off', 'coffee', 'coffee_maker', 'collections', 'collections_bookmark', 'color_lens',
            'colorize', 'comment', 'comment_bank', 'comments_disabled', 'commit', 'commute', 'compare',
            'compare_arrows', 'compass_calibration', 'compost', 'compress', 'computer', 'confirmation_number',
            'connect_without_contact', 'connected_tv', 'connecting_airports', 'construction', 'contact_emergency',
            'contact_mail', 'contact_page', 'contact_phone', 'contact_support', 'contactless', 'contacts',
            'content_copy', 'content_cut', 'content_paste', 'content_paste_go', 'content_paste_off',
            'content_paste_search', 'contrast', 'control_camera', 'control_point', 'control_point_duplicate',
            'conveyor_belt', 'cookie', 'copy_all', 'copyright', 'coronavirus', 'corporate_fare', 'cottage',
            'countertops', 'create', 'create_new_folder', 'credit_card', 'credit_card_off', 'credit_score',
            'crib', 'crisis_alert', 'crop', 'crop_16_9', 'crop_3_2', 'crop_5_4', 'crop_7_5', 'crop_din',
            'crop_free', 'crop_landscape', 'crop_original', 'crop_portrait', 'crop_rotate', 'crop_square',
            'cruelty_free', 'css', 'currency_bitcoin', 'currency_exchange', 'currency_franc', 'currency_lira',
            'currency_pound', 'currency_ruble', 'currency_rupee', 'currency_yen', 'currency_yuan', 'curtains',
            'curtains_closed', 'cyclone', 'dangerous', 'dark_mode', 'dashboard', 'dashboard_customize',
            'data_array', 'data_exploration', 'data_object', 'data_saver_off', 'data_saver_on', 'data_thresholding',
            'data_usage', 'dataset', 'dataset_linked', 'date_range', 'deblur', 'deck', 'dehaze', 'delete',
            'delete_forever', 'delete_outline', 'delete_sweep', 'delivery_dining', 'density_large', 'density_medium',
            'density_small', 'departure_board', 'description', 'deselect', 'design_services', 'desk',
            'desktop_access_disabled', 'desktop_mac', 'desktop_windows', 'details', 'developer_board',
            'developer_board_off', 'developer_mode', 'device_hub', 'device_thermostat', 'device_unknown',
            'devices', 'devices_fold', 'devices_other', 'dialer_sip', 'dialpad', 'diamond', 'difference',
            'dining', 'dinner_dining', 'directions', 'directions_bike', 'directions_boat', 'directions_boat_filled',
            'directions_bus', 'directions_bus_filled', 'directions_car', 'directions_car_filled', 'directions_ferry',
            'directions_off', 'directions_railway', 'directions_railway_filled', 'directions_run', 'directions_subway',
            'directions_subway_filled', 'directions_transit', 'directions_transit_filled', 'directions_walk',
            'dirty_lens', 'disabled_by_default', 'disabled_visible', 'disc_full', 'discord', 'discount',
            'display_settings', 'diversity_1', 'diversity_2', 'diversity_3', 'dnd_forwardslash', 'dns',
            'do_disturb', 'do_disturb_alt', 'do_disturb_off', 'do_disturb_on', 'do_not_disturb', 'do_not_disturb_alt',
            'do_not_disturb_off', 'do_not_disturb_on', 'do_not_step', 'do_not_touch', 'dock', 'document_scanner',
            'domain', 'domain_add', 'domain_disabled', 'domain_verification', 'done', 'done_all', 'done_outline',
            'donut_large', 'donut_small', 'door_back_door', 'door_front_door', 'door_sliding', 'doorbell',
            'double_arrow', 'downhill_skiing', 'download', 'download_done', 'download_for_offline', 'downloading',
            'drafts', 'drag_handle', 'drag_indicator', 'draw', 'drive_eta', 'drive_file_move', 'drive_file_move_rtl',
            'drive_file_rename_outline', 'drive_folder_upload', 'dry', 'dry_cleaning', 'duo', 'dvr', 'dynamic_feed',
            'dynamic_form', 'e_mobiledata', 'earbuds', 'earbuds_battery', 'east', 'eco', 'edgesensor_high',
            'edgesensor_low', 'edit', 'edit_attributes', 'edit_calendar', 'edit_document', 'edit_location',
            'edit_location_alt', 'edit_note', 'edit_notifications', 'edit_off', 'edit_road', 'egg', 'egg_alt',
            'eject', 'elderly', 'elderly_woman', 'electric_bike', 'electric_bolt', 'electric_car', 'electric_meter',
            'electric_moped', 'electric_rickshaw', 'electric_scooter', 'electrical_services', 'elevator',
            'email', 'emergency', 'emergency_recording', 'emergency_share', 'emoji_emotions', 'emoji_events',
            'emoji_flags', 'emoji_food_beverage', 'emoji_nature', 'emoji_objects', 'emoji_people', 'emoji_symbols',
            'emoji_transportation', 'energy_savings_leaf', 'engineering', 'enhance_photo_translate', 'enhanced_encryption',
            'equalizer', 'error', 'error_outline', 'escalator', 'escalator_warning', 'euro', 'euro_symbol',
            'ev_station', 'event', 'event_available', 'event_busy', 'event_note', 'event_repeat', 'event_seat',
            'exit_to_app', 'expand', 'expand_circle_down', 'expand_less', 'expand_more', 'explicit', 'explore',
            'explore_off', 'exposure', 'exposure_neg_1', 'exposure_neg_2', 'exposure_plus_1', 'exposure_plus_2',
            'exposure_zero', 'extension', 'extension_off', 'face', 'face_2', 'face_3', 'face_4', 'face_5',
            'face_6', 'face_retouching_natural', 'face_retouching_off', 'facebook', 'fact_check', 'factory',
            'family_restroom', 'fast_forward', 'fast_rewind', 'fastfood', 'favorite', 'favorite_border',
            'favorite_outline', 'fax', 'featured_play_list', 'featured_video', 'feed', 'feedback', 'female',
            'fence', 'festival', 'fiber_dvr', 'fiber_manual_record', 'fiber_new', 'fiber_pin', 'fiber_smart_record',
            'file_copy', 'file_download', 'file_download_done', 'file_download_off', 'file_open', 'file_present',
            'file_upload', 'file_upload_off', 'filter', 'filter_1', 'filter_2', 'filter_3', 'filter_4', 'filter_5',
            'filter_6', 'filter_7', 'filter_8', 'filter_9', 'filter_9_plus', 'filter_alt', 'filter_alt_off',
            'filter_b_and_w', 'filter_center_focus', 'filter_drama', 'filter_frames', 'filter_hdr', 'filter_list',
            'filter_list_off', 'filter_none', 'filter_tilt_shift', 'filter_vintage', 'find_in_page', 'find_replace',
            'fingerprint', 'fire_extinguisher', 'fire_hydrant_alt', 'fire_truck', 'fireplace', 'first_page',
            'fit_screen', 'fitbit', 'fitness_center', 'flag', 'flag_circle', 'flaky', 'flare', 'flash_auto',
            'flash_off', 'flash_on', 'flashlight_off', 'flashlight_on', 'flatware', 'flight', 'flight_class',
            'flight_land', 'flight_takeoff', 'flip', 'flip_camera_android', 'flip_camera_ios', 'flip_to_back',
            'flip_to_front', 'flood', 'flourescent', 'flutter_dash', 'fmd_bad', 'fmd_good', 'foggy', 'folder',
            'folder_copy', 'folder_delete', 'folder_off', 'folder_open', 'folder_shared', 'folder_special',
            'folder_zip', 'follow_the_signs', 'font_download', 'font_download_off', 'food_bank', 'forest',
            'fork_left', 'fork_right', 'forklift', 'format_align_center', 'format_align_justify',
            'format_align_left', 'format_align_right', 'format_bold', 'format_clear', 'format_color_fill',
            'format_color_reset', 'format_color_text', 'format_indent_decrease', 'format_indent_increase',
            'format_italic', 'format_line_spacing', 'format_list_bulleted', 'format_list_numbered',
            'format_list_numbered_rtl', 'format_overline', 'format_paint', 'format_quote', 'format_shapes',
            'format_size', 'format_strikethrough', 'format_textdirection_l_to_r', 'format_textdirection_r_to_l',
            'format_underline', 'format_underlined', 'fort', 'forum', 'forward', 'forward_10', 'forward_30',
            'forward_5', 'forward_to_inbox', 'foundation', 'free_breakfast', 'free_cancellation', 'front_hand',
            'front_loader', 'fullscreen', 'fullscreen_exit', 'functions', 'g_mobiledata', 'g_translate',
            'gamepad', 'games', 'garage', 'gas_meter', 'gavel', 'generating_tokens', 'gesture', 'get_app',
            'gif', 'gif_box', 'girl', 'gite', 'golf_course', 'gpp_bad', 'gpp_good', 'gpp_maybe', 'gps_fixed',
            'gps_not_fixed', 'gps_off', 'grade', 'gradient', 'grading', 'grain', 'graphic_eq', 'grass',
            'grid_3x3', 'grid_4x4', 'grid_goldenratio', 'grid_off', 'grid_on', 'grid_view', 'group', 'group_add',
            'group_off', 'group_remove', 'group_work', 'groups', 'groups_2', 'groups_3', 'h_mobiledata',
            'h_plus_mobiledata', 'hail', 'handshake', 'handyman', 'hardware', 'hd', 'hdr_auto', 'hdr_auto_select',
            'hdr_enhanced_select', 'hdr_off', 'hdr_off_select', 'hdr_on', 'hdr_on_select', 'hdr_plus',
            'hdr_strong', 'hdr_weak', 'headphones', 'headphones_battery', 'headset', 'headset_mic',
            'headset_off', 'healing', 'health_and_safety', 'hearing', 'hearing_disabled', 'heart_broken',
            'heat_pump', 'height', 'help', 'help_center', 'help_outline', 'hevc', 'hexagon', 'hide_image',
            'hide_source', 'high_quality', 'highlight', 'highlight_alt', 'highlight_off', 'highlight_remove',
            'hiking', 'history', 'history_edu', 'history_toggle_off', 'hive', 'hls', 'hls_off', 'holiday_village',
            'home', 'home_filled', 'home_max', 'home_mini', 'home_repair_service', 'home_work', 'horizontal_distribute',
            'horizontal_rule', 'horizontal_split', 'hot_tub', 'hotel', 'hotel_class', 'hourglass_bottom',
            'hourglass_disabled', 'hourglass_empty', 'hourglass_full', 'hourglass_top', 'house', 'house_siding',
            'houseboat', 'how_to_reg', 'how_to_vote', 'html', 'http', 'https', 'hub', 'hvac', 'ice_skating',
            'icecream', 'image', 'image_aspect_ratio', 'image_not_supported', 'image_search', 'imagesearch_roller',
            'import_contacts', 'import_export', 'important_devices', 'inbox', 'incomplete_circle', 'indeterminate_check_box',
            'info', 'info_outline', 'input', 'insert_chart', 'insert_chart_outlined', 'insert_comment',
            'insert_drive_file', 'insert_emoticon', 'insert_invitation', 'insert_link', 'insert_page_break',
            'insert_photo', 'insights', 'install_desktop', 'install_mobile', 'integration_instructions',
            'interests', 'interpreter_mode', 'inventory', 'inventory_2', 'invert_colors', 'invert_colors_off',
            'invert_colors_on', 'ios_share', 'iron', 'iso', 'javascript', 'join_full', 'join_inner', 'join_left',
            'join_right', 'kayaking', 'kebab_dining', 'key', 'key_off', 'keyboard', 'keyboard_alt', 'keyboard_arrow_down',
            'keyboard_arrow_left', 'keyboard_arrow_right', 'keyboard_arrow_up', 'keyboard_backspace',
            'keyboard_capslock', 'keyboard_command_key', 'keyboard_control_key', 'keyboard_double_arrow_down',
            'keyboard_double_arrow_left', 'keyboard_double_arrow_right', 'keyboard_double_arrow_up',
            'keyboard_hide', 'keyboard_option_key', 'keyboard_return', 'keyboard_tab', 'keyboard_voice',
            'king_bed', 'kitchen', 'kitesurfing', 'label', 'label_important', 'label_important_outline',
            'label_off', 'lan', 'landscape', 'landslide', 'language', 'laptop', 'laptop_chromebook', 'laptop_mac',
            'laptop_windows', 'last_page', 'launch', 'layers', 'layers_clear', 'leaderboard', 'leak_add',
            'leak_remove', 'leave_bags_at_home', 'legend_toggle', 'lens', 'lens_blur', 'library_add',
            'library_add_check', 'library_books', 'library_music', 'light', 'light_mode', 'lightbulb',
            'lightbulb_circle', 'lightbulb_outline', 'line_axis', 'line_style', 'line_weight', 'linear_scale',
            'link', 'link_off', 'linked_camera', 'liquor', 'list', 'list_alt', 'live_help', 'live_tv',
            'living', 'local_activity', 'local_airport', 'local_atm', 'local_bar', 'local_cafe', 'local_car_wash',
            'local_convenience_store', 'local_dining', 'local_drink', 'local_fire_department', 'local_florist',
            'local_gas_station', 'local_grocery_store', 'local_hospital', 'local_hotel', 'local_laundry_service',
            'local_library', 'local_mall', 'local_movies', 'local_offer', 'local_parking', 'local_pharmacy',
            'local_phone', 'local_pizza', 'local_play', 'local_police', 'local_post_office', 'local_printshop',
            'local_see', 'local_shipping', 'local_taxi', 'location_city', 'location_disabled', 'location_history',
            'location_off', 'location_on', 'location_pin', 'location_searching', 'lock', 'lock_clock', 'lock_open',
            'lock_outline', 'lock_person', 'lock_reset', 'login', 'logo_dev', 'logout', 'looks', 'looks_3',
            'looks_4', 'looks_5', 'looks_6', 'looks_one', 'looks_two', 'loop', 'loupe', 'low_priority',
            'loyalty', 'lte_mobiledata', 'lte_plus_mobiledata', 'luggage', 'lunch_dining', 'lyrics', 'macro_off',
            'mail', 'mail_lock', 'mail_outline', 'male', 'man', 'man_2', 'man_3', 'man_4', 'manage_accounts',
            'manage_history', 'manage_search', 'map', 'maps_home_work', 'maps_ugc', 'margin', 'mark_as_unread',
            'mark_chat_read', 'mark_chat_unread', 'mark_email_read', 'mark_email_unread', 'mark_unread_chat_alt',
            'markunread', 'markunread_mailbox', 'masks', 'maximize', 'media_bluetooth_off', 'media_bluetooth_on',
            'mediation', 'medical_information', 'medical_services', 'medication', 'medication_liquid', 'meeting_room',
            'memory', 'menu', 'menu_book', 'menu_open', 'merge', 'merge_type', 'message', 'messenger',
            'messenger_outline', 'mic', 'mic_external_off', 'mic_external_on', 'mic_none', 'mic_off',
            'microwave', 'military_tech', 'minimize', 'minor_crash', 'miscellaneous_services', 'missed_video_call',
            'mms', 'mobile_friendly', 'mobile_off', 'mobile_screen_share', 'mobiledata_off', 'mode',
            'mode_comment', 'mode_edit', 'mode_edit_outline', 'mode_fan_off', 'mode_night', 'mode_of_travel',
            'mode_standby', 'model_training', 'monetization_on', 'money', 'money_off', 'money_off_csred',
            'monitor', 'monitor_heart', 'monitor_weight', 'monochrome_photos', 'mood', 'mood_bad', 'moped',
            'more', 'more_horiz', 'more_time', 'more_vert', 'mosque', 'motion_photos_auto', 'motion_photos_off',
            'motion_photos_on', 'motion_photos_pause', 'motion_photos_paused', 'mouse', 'move_down', 'move_to_inbox',
            'move_up', 'movie', 'movie_creation', 'movie_edit', 'movie_filter', 'moving', 'mp', 'multiline_chart',
            'multiple_stop', 'multitrack_audio', 'museum', 'music_note', 'music_off', 'music_video', 'my_location',
            'nat', 'nature', 'nature_people', 'navigate_before', 'navigate_next', 'navigation', 'near_me',
            'near_me_disabled', 'nearby_error', 'nearby_off', 'nest_cam_wired_stand', 'network_cell',
            'network_check', 'network_locked', 'network_ping', 'network_wifi', 'network_wifi_1_bar',
            'network_wifi_2_bar', 'network_wifi_3_bar', 'new_label', 'new_releases', 'newspaper', 'next_plan',
            'next_week', 'nfc', 'night_shelter', 'nightlife', 'nightlight', 'nightlight_round', 'nights_stay',
            'no_accounts', 'no_adult_content', 'no_backpack', 'no_cell', 'no_crash', 'no_drinks', 'no_encryption',
            'no_encryption_gmailerrorred', 'no_flash', 'no_food', 'no_luggage', 'no_meals', 'no_meeting_room',
            'no_photography', 'no_sim', 'no_stroller', 'no_transfer', 'noise_aware', 'noise_control_off',
            'nordic_walking', 'north', 'north_east', 'north_west', 'not_accessible', 'not_interested',
            'not_listed_location', 'not_started', 'note', 'note_add', 'note_alt', 'notes', 'notification_add',
            'notification_important', 'notifications', 'notifications_active', 'notifications_none',
            'notifications_off', 'notifications_paused', 'now_wallpaper', 'now_widgets', 'numbers', 'offline_bolt',
            'offline_pin', 'offline_share', 'oil_barrel', 'on_device_training', 'ondemand_video', 'online_prediction',
            'opacity', 'open_in_browser', 'open_in_full', 'open_in_new', 'open_in_new_off', 'open_with',
            'other_houses', 'outbound', 'outbox', 'outdoor_grill', 'outlet', 'outlined_flag', 'output',
            'padding', 'pages', 'pageview', 'paid', 'palette', 'pan_tool', 'pan_tool_alt', 'panorama',
            'panorama_fish_eye', 'panorama_fisheye', 'panorama_horizontal', 'panorama_horizontal_select',
            'panorama_photosphere', 'panorama_photosphere_select', 'panorama_vertical', 'panorama_vertical_select',
            'panorama_wide_angle', 'panorama_wide_angle_select', 'paragliding', 'park', 'party_mode', 'password',
            'pattern', 'pause', 'pause_circle', 'pause_circle_filled', 'pause_circle_outline', 'pause_presentation',
            'payment', 'payments', 'paypal', 'pedal_bike', 'pending', 'pending_actions', 'pentagon', 'people',
            'people_alt', 'people_outline', 'percent', 'perm_camera_mic', 'perm_contact_calendar', 'perm_data_setting',
            'perm_device_information', 'perm_identity', 'perm_media', 'perm_phone_msg', 'perm_scan_wifi',
            'person', 'person_2', 'person_3', 'person_4', 'person_add', 'person_add_alt', 'person_add_alt_1',
            'person_add_disabled', 'person_off', 'person_outline', 'person_pin', 'person_pin_circle',
            'person_remove', 'person_remove_alt_1', 'person_search', 'personal_injury', 'personal_video',
            'pest_control', 'pest_control_rodent', 'pets', 'phishing', 'phone', 'phone_android', 'phone_bluetooth_speaker',
            'phone_callback', 'phone_disabled', 'phone_enabled', 'phone_forwarded', 'phone_in_talk', 'phone_iphone',
            'phone_locked', 'phone_missed', 'phone_paused', 'phone_android', 'phone_android', 'phone_android',
            'phonelink', 'phonelink_erase', 'phonelink_lock', 'phonelink_off', 'phonelink_ring', 'phonelink_setup',
            'photo', 'photo_album', 'photo_camera', 'photo_camera_back', 'photo_camera_front', 'photo_filter',
            'photo_library', 'photo_size_select_actual', 'photo_size_select_large', 'photo_size_select_small',
            'php', 'piano', 'piano_off', 'picture_as_pdf', 'picture_in_picture', 'picture_in_picture_alt',
            'pie_chart', 'pie_chart_outline', 'pie_chart_outlined', 'pin', 'pin_drop', 'pin_end', 'pin_invoke',
            'pinch', 'pivot_table_chart', 'pix', 'place', 'plagiarism', 'play_arrow', 'play_circle', 'play_circle_filled',
            'play_circle_outline', 'play_disabled', 'play_for_work', 'play_lesson', 'playlist_add', 'playlist_add_check',
            'playlist_add_check_circle', 'playlist_play', 'playlist_remove', 'plumbing', 'plus_one', 'podcasts',
            'point_of_sale', 'policy', 'poll', 'polyline', 'polymer', 'pool', 'portable_wifi_off', 'portrait',
            'post_add', 'power', 'power_input', 'power_off', 'power_settings_new', 'powered_by_google',
            'precision_manufacturing', 'pregnant_woman', 'present_to_all', 'preview', 'price_change', 'price_check',
            'print', 'print_disabled', 'priority_high', 'privacy_tip', 'private_connectivity', 'production_quantity_limits',
            'propane', 'propane_tank', 'psychology', 'psychology_alt', 'public', 'public_off', 'publish',
            'published_with_changes', 'punch_clock', 'push_pin', 'qr_code', 'qr_code_2', 'qr_code_scanner',
            'query_builder', 'query_stats', 'question_answer', 'question_mark', 'queue', 'queue_music',
            'queue_play_next', 'quick_contacts_dialer', 'quick_contacts_mail', 'quickreply', 'quiz', 'quora',
            'r_mobiledata', 'radar', 'radio', 'radio_button_checked', 'radio_button_off', 'radio_button_on',
            'radio_button_unchecked', 'railway_alert', 'ramen_dining', 'ramp_left', 'ramp_right', 'rate_review',
            'raw_off', 'raw_on', 'read_more', 'real_estate_agent', 'receipt', 'receipt_long', 'recent_actors',
            'recommend', 'record_voice_over', 'rectangle', 'recycling', 'reddit', 'redeem', 'redo', 'reduce_capacity',
            'refresh', 'remember_me', 'remove', 'remove_circle', 'remove_circle_outline', 'remove_done',
            'remove_from_queue', 'remove_moderator', 'remove_red_eye', 'remove_road', 'remove_shopping_cart',
            'reorder', 'repartition', 'repeat', 'repeat_on', 'repeat_one', 'repeat_one_on', 'replay', 'replay_10',
            'replay_30', 'replay_5', 'replay_circle_filled', 'reply', 'reply_all', 'report', 'report_gmailerrorred',
            'report_off', 'report_problem', 'request_page', 'request_quote', 'reset_tv', 'restart_alt', 'restaurant',
            'restaurant_menu', 'restore', 'restore_from_trash', 'restore_page', 'reviews', 'rice_bowl', 'ring_volume',
            'rocket', 'rocket_launch', 'roller_skating', 'roofing', 'room', 'room_preferences', 'room_service',
            'rotate_90_degrees_ccw', 'rotate_90_degrees_cw', 'rotate_left', 'rotate_right', 'roundabout_left',
            'roundabout_right', 'router', 'rowing', 'rss_feed', 'rsvp', 'rtt', 'rule', 'rule_folder', 'run_circle',
            'running_with_errors', 'rv_hookup', 'safety_check', 'safety_divider', 'sailing', 'sanitizer',
            'satellite', 'satellite_alt', 'save', 'save_alt', 'save_as', 'saved_search', 'savings', 'scale',
            'scanner', 'scatter_plot', 'schedule', 'schedule_send', 'schema', 'school', 'science', 'score',
            'scoreboard', 'screen_lock_landscape', 'screen_lock_portrait', 'screen_lock_rotation', 'screen_rotation',
            'screen_rotation_alt', 'screen_search_desktop', 'screen_share', 'screenshot', 'screenshot_monitor',
            'scuba_diving', 'sd', 'sd_card', 'sd_card_alert', 'sd_storage', 'search', 'search_off', 'security',
            'security_update', 'security_update_good', 'security_update_warning', 'segment', 'select_all',
            'self_improvement', 'sell', 'send', 'send_and_archive', 'send_time_extension', 'send_to_mobile',
            'sensor_door', 'sensor_occupied', 'sensor_window', 'sensors', 'sensors_off', 'sentiment_dissatisfied',
            'sentiment_neutral', 'sentiment_satisfied', 'sentiment_satisfied_alt', 'sentiment_very_dissatisfied',
            'sentiment_very_satisfied', 'set_meal', 'settings', 'settings_accessibility', 'settings_applications',
            'settings_backup_restore', 'settings_bluetooth', 'settings_brightness', 'settings_cell', 'settings_ethernet',
            'settings_input_antenna', 'settings_input_component', 'settings_input_composite', 'settings_input_hdmi',
            'settings_input_svideo', 'settings_overscan', 'settings_phone', 'settings_power', 'settings_remote',
            'settings_suggest', 'settings_system_daydream', 'settings_voice', 'severe_cold', 'shape_line',
            'share', 'share_arrival_time', 'share_location', 'shelves', 'shield', 'shield_moon', 'shop',
            'shop_2', 'shop_two', 'shopify', 'shopping_bag', 'shopping_basket', 'shopping_cart', 'shopping_cart_checkout',
            'short_text', 'shortcut', 'show_chart', 'shower', 'shuffle', 'shuffle_on', 'shutter_speed',
            'sick', 'sign_language', 'signal_cellular_0_bar', 'signal_cellular_1_bar', 'signal_cellular_2_bar',
            'signal_cellular_3_bar', 'signal_cellular_4_bar', 'signal_cellular_alt', 'signal_cellular_connected_no_internet_0_bar',
            'signal_cellular_connected_no_internet_1_bar', 'signal_cellular_connected_no_internet_2_bar',
            'signal_cellular_connected_no_internet_3_bar', 'signal_cellular_connected_no_internet_4_bar',
            'signal_cellular_nodata', 'signal_cellular_null', 'signal_cellular_off', 'signal_wifi_0_bar',
            'signal_wifi_1_bar', 'signal_wifi_2_bar', 'signal_wifi_3_bar', 'signal_wifi_4_bar', 'signal_wifi_4_bar_lock',
            'signal_wifi_bad', 'signal_wifi_connected_no_internet_4', 'signal_wifi_off', 'signal_wifi_statusbar_4_bar',
            'signal_wifi_statusbar_connected_no_internet_4', 'signal_wifi_statusbar_null', 'signpost', 'sim_card',
            'sim_card_alert', 'sim_card_download', 'single_bed', 'sip', 'skateboarding', 'skip_next', 'skip_previous',
            'sledding', 'slideshow', 'slow_motion_video', 'smart_button', 'smart_display', 'smart_screen',
            'smart_toy', 'smartphone', 'smoke_free', 'smoking_rooms', 'sms', 'sms_failed', 'snippet_folder',
            'snooze', 'snowboarding', 'snowmobile', 'snowshoeing', 'soap', 'social_distance', 'solar_power',
            'sort', 'sort_by_alpha', 'sos', 'soup_kitchen', 'source', 'south', 'south_america', 'south_east',
            'south_west', 'spa', 'space_bar', 'space_dashboard', 'spatial_audio', 'spatial_audio_off',
            'spatial_tracking', 'speaker', 'speaker_group', 'speaker_notes', 'speaker_notes_off', 'speaker_phone',
            'speed', 'spellcheck', 'splitscreen', 'spoke', 'sports', 'sports_bar', 'sports_baseball', 'sports_basketball',
            'sports_cricket', 'sports_esports', 'sports_football', 'sports_golf', 'sports_gymnastics', 'sports_handball',
            'sports_hockey', 'sports_kabaddi', 'sports_martial_arts', 'sports_mma', 'sports_motorsports',
            'sports_rugby', 'sports_score', 'sports_soccer', 'sports_tennis', 'sports_volleyball', 'square',
            'square_foot', 'ssid_chart', 'stacked_bar_chart', 'stacked_line_chart', 'stadium', 'stairs',
            'star', 'star_border', 'star_border_purple500', 'star_half', 'star_outline', 'star_purple500',
            'star_rate', 'stars', 'start', 'stay_current_landscape', 'stay_current_portrait', 'stay_primary_landscape',
            'stay_primary_portrait', 'sticky_note_2', 'stop', 'stop_circle', 'stop_screen_share', 'storage',
            'store', 'store_mall_directory', 'storefront', 'storm', 'straight', 'straighten', 'stream',
            'streetview', 'strikethrough_s', 'stroller', 'style', 'subdirectory_arrow_left', 'subdirectory_arrow_right',
            'subject', 'subscript', 'subscriptions', 'subtitles', 'subtitles_off', 'subway', 'summarize',
            'sunny', 'sunny_snowing', 'superscript', 'supervised_user_circle', 'supervisor_account', 'support',
            'support_agent', 'surfing', 'surround_sound', 'swap_calls', 'swap_horiz', 'swap_horizontal_circle',
            'swap_vert', 'swap_vertical_circle', 'swipe', 'swipe_down', 'swipe_down_alt', 'swipe_left',
            'swipe_left_alt', 'swipe_right', 'swipe_right_alt', 'swipe_up', 'swipe_up_alt', 'swipe_vertical',
            'switch_access_shortcut', 'switch_access_shortcut_add', 'switch_account', 'switch_camera',
            'switch_left', 'switch_right', 'switch_video', 'synagogue', 'sync', 'sync_alt', 'sync_disabled',
            'sync_lock', 'sync_problem', 'system_security_update', 'system_security_update_good',
            'system_security_update_warning', 'system_update', 'system_update_alt', 'tab', 'tab_unselected',
            'table_bar', 'table_chart', 'table_restaurant', 'table_rows', 'table_view', 'tablet', 'tablet_android',
            'tablet_mac', 'tag', 'tag_faces', 'takeout_dining', 'tap_and_play', 'tapas', 'task', 'task_alt',
            'taxi_alert', 'telegram', 'temple_buddhist', 'temple_hindu', 'tenancy', 'terminal', 'terrain',
            'text_decrease', 'text_fields', 'text_increase', 'text_rotate_up', 'text_rotate_vertical',
            'text_rotation_angledown', 'text_rotation_angleup', 'text_rotation_down', 'text_rotation_none',
            'text_snippet', 'textsms', 'texture', 'theater_comedy', 'theaters', 'thermostat', 'thermostat_auto',
            'thumb_down', 'thumb_down_alt', 'thumb_down_off_alt', 'thumb_up', 'thumb_up_alt', 'thumb_up_off_alt',
            'thumbs_up_down', 'thunderstorm', 'tiktok', 'time_to_leave', 'timelapse', 'timeline', 'timer',
            'timer_10', 'timer_10_select', 'timer_3', 'timer_3_select', 'timer_off', 'tips_and_updates',
            'tire_repair', 'title', 'toc', 'today', 'toggle_off', 'toggle_on', 'token', 'toll', 'tonality',
            'topic', 'tornado', 'touch_app', 'tour', 'toys', 'track_changes', 'traffic', 'train', 'tram',
            'transcribe', 'transfer_within_a_station', 'transform', 'transgender', 'transit_enterexit',
            'translate', 'travel_explore', 'trending_down', 'trending_flat', 'trending_up', 'trip_origin',
            'troubleshoot', 'try', 'tsunami', 'tty', 'tune', 'tungsten', 'turn_left', 'turn_right', 'turn_sharp_left',
            'turn_sharp_right', 'turn_slight_left', 'turn_slight_right', 'turned_in', 'turned_in_not', 'tv',
            'tv_off', 'two_wheeler', 'type_specimen', 'u_turn_left', 'u_turn_right', 'umbrella', 'unarchive',
            'undo', 'unfold_less', 'unfold_less_double', 'unfold_more', 'unfold_more_double', 'unpublished',
            'unsubscribe', 'upcoming', 'update', 'update_disabled', 'upgrade', 'upload', 'upload_file',
            'usb', 'usb_off', 'vaccines', 'vape_free', 'vaping_rooms', 'verified', 'verified_user',
            'vertical_align_bottom', 'vertical_align_center', 'vertical_align_top', 'vertical_distribute',
            'vertical_shades', 'vertical_shades_closed', 'vertical_split', 'vibration', 'video_call',
            'video_camera_back', 'video_camera_front', 'video_chat', 'video_file', 'video_label', 'video_library',
            'video_settings', 'video_stable', 'videocam', 'videocam_off', 'videogame_asset', 'videogame_asset_off',
            'view_agenda', 'view_array', 'view_carousel', 'view_column', 'view_comfy', 'view_comfy_alt',
            'view_compact', 'view_compact_alt', 'view_cozy', 'view_day', 'view_headline', 'view_in_ar',
            'view_kanban', 'view_list', 'view_module', 'view_quilt', 'view_sidebar', 'view_stream', 'view_timeline',
            'view_week', 'vignette', 'villa', 'visibility', 'visibility_off', 'voice_chat', 'voice_over_off',
            'voicemail', 'volcano', 'volume_down', 'volume_down_alt', 'volume_mute', 'volume_off', 'volume_up',
            'volunteer_activism', 'vpn_key', 'vpn_key_off', 'vpn_lock', 'voting_chip', 'vpn_lock', 'vpn_lock',
            'wallet', 'wallet_giftcard', 'wallet_membership', 'wallet_travel', 'wallpaper', 'warehouse',
            'warning', 'warning_amber', 'wash', 'watch', 'watch_later', 'watch_off', 'water', 'water_damage',
            'water_drop', 'waterfall_chart', 'waves', 'waving_hand', 'wb_auto', 'wb_cloudy', 'wb_incandescent',
            'wb_iridescent', 'wb_shade', 'wb_sunny', 'wb_twilight', 'wc', 'web', 'web_asset', 'web_asset_off',
            'web_stories', 'webhook', 'weekend', 'west', 'whatsapp', 'whatshot', 'wheelchair_pickup', 'where_to_vote',
            'widgets', 'width_full', 'width_normal', 'width_wide', 'wifi', 'wifi_1_bar', 'wifi_2_bar', 'wifi_calling',
            'wifi_calling_3', 'wifi_channel', 'wifi_find', 'wifi_lock', 'wifi_off', 'wifi_password', 'wifi_protected_setup',
            'wifi_tethering', 'wifi_tethering_error', 'wifi_tethering_error_rounded', 'wifi_tethering_off',
            'wind_power', 'window', 'wine_bar', 'woman', 'woman_2', 'woo_commerce', 'work', 'work_off', 'work_outline',
            'workspace_premium', 'workspaces', 'workspaces_filled', 'workspaces_outline', 'wrap_text', 'wrong_location',
            'wysiwyg', 'yard', 'youtube_searched_for', 'zoom_in', 'zoom_in_map', 'zoom_out', 'zoom_out_map'
        ];

        let filteredIcons = [...flutterIcons];
        let currentSearchTerm = '';
        let selectedIcon = 'home';
        let isDrawerExpanded = false;
        let currentCategory = 'all';
        let recentIcons = [];
        let collections = {};
        let currentCollectionName = null; // For selection (adding icons)
        let filteringCollectionName = null; // For filtering (showing only those icons)
        const STORAGE_KEY = 'flutter_icon_settings_v1';
        const COLLECTIONS_KEY = 'flutter_icon_collections_v1';
        const RECENT_KEY = 'flutter_icon_recent_v1';

        // Icon categories
        const iconCategories = {
            'all': { name: 'All Icons', icons: [] },
            'navigation': { name: 'Navigation', icons: ['home', 'menu', 'arrow_back', 'arrow_forward', 'arrow_upward', 'arrow_downward', 'navigation', 'explore', 'place', 'map', 'directions', 'location_on', 'my_location', 'near_me'] },
            'actions': { name: 'Actions', icons: ['add', 'remove', 'delete', 'edit', 'save', 'cancel', 'check', 'close', 'done', 'clear', 'refresh', 'sync', 'download', 'upload', 'share', 'copy', 'cut', 'paste'] },
            'communication': { name: 'Communication', icons: ['email', 'mail', 'phone', 'call', 'message', 'chat', 'chat_bubble', 'sms', 'notifications', 'notifications_active', 'forum', 'comment', 'reply', 'send'] },
            'social': { name: 'Social', icons: ['person', 'people', 'group', 'account_circle', 'face', 'favorite', 'star', 'thumb_up', 'thumb_down', 'share', 'facebook', 'twitter'] },
            'media': { name: 'Media', icons: ['play_arrow', 'pause', 'stop', 'skip_next', 'skip_previous', 'volume_up', 'volume_down', 'image', 'photo', 'video_library', 'camera', 'mic', 'headset'] },
            'settings': { name: 'Settings', icons: ['settings', 'tune', 'build', 'admin_panel_settings', 'security', 'lock', 'lock_open', 'vpn_key', 'privacy_tip'] },
            'files': { name: 'Files', icons: ['folder', 'folder_open', 'insert_drive_file', 'description', 'file_copy', 'attach_file', 'cloud_upload', 'cloud_download', 'archive'] },
            'shopping': { name: 'Shopping', icons: ['shopping_cart', 'shopping_bag', 'store', 'payment', 'credit_card', 'local_offer', 'redeem', 'card_giftcard'] },
            'time': { name: 'Time & Date', icons: ['schedule', 'calendar_today', 'access_time', 'alarm', 'timer', 'watch_later', 'event', 'date_range'] },
            'weather': { name: 'Weather', icons: ['wb_sunny', 'cloud', 'rain', 'snow', 'thunderstorm', 'ac_unit', 'beach_access'] },
            'ai': { name: 'AI', icons: ['psychology', 'psychology_alt', 'memory', 'auto_awesome', 'auto_awesome_motion', 'auto_fix_high', 'smart_toy', 'model_training', 'analytics', 'insights', 'trending_up', 'scatter_plot', 'dataset', 'data_object', 'auto_awesome_mosaic', 'speed', 'bolt', 'lightbulb', 'school', 'menu_book', 'tune', 'settings_automation', 'smart_button', 'visibility', 'remove_red_eye', 'lens', 'record_voice_over', 'translate', 'chat', 'cloud', 'computer'] },
            'emoji': { name: 'Emoji', icons: ['emoji_emotions', 'emoji_events', 'emoji_flags', 'emoji_food_beverage', 'emoji_nature', 'emoji_objects', 'emoji_people', 'emoji_symbols', 'emoji_transportation', 'sentiment_satisfied', 'sentiment_satisfied_alt', 'sentiment_very_satisfied', 'sentiment_dissatisfied', 'sentiment_very_dissatisfied', 'sentiment_neutral', 'mood', 'mood_bad', 'tag_faces', 'insert_emoticon', 'face', 'face_2', 'face_3', 'face_4', 'face_5', 'face_6', 'face_retouching_natural', 'face_retouching_off', 'female', 'male', 'toys', 'local_fire_department', 'thumb_down', 'thumb_down_alt', 'thumb_down_off_alt', 'thumb_up', 'thumb_up_alt', 'thumb_up_off_alt', 'thumbs_up_down'] },
            'chat': { name: 'Chat', icons: ['chat', 'chat_bubble', 'chat_bubble_outline', 'message', 'sms', 'send', 'reply', 'reply_all', 'forward', 'mark_chat_read', 'mark_chat_unread', 'mark_email_read', 'mark_email_unread', 'drafts', 'inbox', 'outbox', 'archive', 'delete', 'block', 'report', 'flag', 'star', 'star_border', 'favorite', 'favorite_border', 'bookmark', 'bookmark_border', 'attach_file', 'attach_email', 'insert_photo', 'insert_emoticon', 'mic', 'videocam', 'phone', 'call', 'call_end', 'call_made', 'call_received', 'call_missed', 'notifications', 'notifications_active', 'notifications_none', 'notifications_off', 'person', 'person_add', 'group', 'people', 'more_vert', 'more_horiz', 'settings', 'tune'] },
            'crypto': { name: 'Crypto', icons: ['currency_bitcoin', 'currency_exchange', 'account_balance_wallet', 'account_balance', 'trending_up', 'trending_down', 'trending_flat', 'bar_chart', 'show_chart', 'candlestick_chart', 'analytics', 'insights', 'security', 'lock', 'vpn_key', 'shield', 'verified', 'check_circle', 'payments', 'payment', 'attach_money', 'monetization_on', 'savings', 'link', 'sync', 'refresh', 'network_check', 'wifi', 'qr_code', 'qr_code_scanner', 'history', 'receipt', 'description', 'notifications', 'notifications_active', 'warning', 'smartphone', 'computer', 'tablet'] },
            'fun': { name: 'Fun', icons: ['celebration', 'party_mode', 'cake', 'local_fire_department', 'toys', 'sports_esports', 'videogame_asset', 'games', 'casino', 'theater_comedy', 'theaters', 'music_note', 'music_video', 'library_music', 'play_circle', 'play_arrow', 'pause', 'skip_next', 'skip_previous', 'volume_up', 'headset', 'mic', 'karaoke', 'sports', 'sports_soccer', 'sports_basketball', 'sports_baseball', 'sports_football', 'sports_tennis', 'sports_volleyball', 'sports_golf', 'pool', 'beach_access', 'local_activity', 'attractions', 'park', 'roller_skating', 'skateboarding', 'snowboarding', 'kayaking', 'sailing', 'surfing', 'paragliding', 'emoji_emotions', 'mood', 'sentiment_very_satisfied', 'tag_faces', 'face', 'face_2', 'face_3', 'face_4', 'face_5', 'face_6', 'thumb_up', 'favorite', 'star', 'local_fire_department', 'whatshot', 'auto_awesome', 'auto_awesome_motion'] },
            'travel': { name: 'Travel', icons: ['flight', 'flight_takeoff', 'flight_land', 'airplanemode_active', 'airplane_ticket', 'train', 'directions_railway', 'directions_railway_filled', 'directions_bus', 'directions_bus_filled', 'directions_car', 'directions_car_filled', 'directions_bike', 'directions_boat', 'directions_boat_filled', 'directions_subway', 'directions_subway_filled', 'directions_walk', 'directions_transit', 'directions_transit_filled', 'directions', 'navigation', 'explore', 'place', 'location_on', 'location_pin', 'my_location', 'near_me', 'map', 'map', 'streetview', 'hotel', 'hotel_class', 'room', 'room_service', 'luggage', 'beach_access', 'local_activity', 'attractions', 'local_dining', 'restaurant', 'restaurant_menu', 'local_bar', 'local_cafe', 'local_gas_station', 'local_parking', 'local_pharmacy', 'local_hospital', 'local_mall', 'local_movies', 'local_see', 'local_shipping', 'local_taxi', 'schedule', 'calendar_today', 'access_time', 'event', 'date_range', 'wb_sunny', 'cloud', 'wb_cloudy', 'wb_incandescent', 'wb_twilight', 'wb_auto', 'wb_shade', 'wb_iridescent', 'wb_sunny', 'phone', 'wifi', 'camera', 'photo', 'image', 'description', 'receipt', 'confirmation_number', 'credit_card', 'payment', 'wallet'] }
        };

        function hexToRgb(hex) {
            const result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
            return result ? {
                r: parseInt(result[1], 16),
                g: parseInt(result[2], 16),
                b: parseInt(result[3], 16)
            } : {r: 0, g: 0, b: 0};
        }

        // Base62 encoding (0-9, a-z, A-Z)
        const BASE62 = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';

        function encodeNumberToBase62(num) {
            if (num === 0) return '00';
            let result = '';
            while (num > 0) {
                result = BASE62[num % 62] + result;
                num = Math.floor(num / 62);
            }
            // Pad to 2 characters
            return result.padStart(2, '0');
        }

        function decodeBase62ToNumber(str) {
            let num = 0;
            for (let i = 0; i < str.length; i++) {
                num = num * 62 + BASE62.indexOf(str[i]);
            }
            return num;
        }

        // Encode icon name to number (index in flutterIcons array)
        function encode(iconName) {
            const index = flutterIcons.indexOf(iconName);
            return index >= 0 ? index : -1;
        }

        // Decode number to icon name
        function decode(number) {
            if (number >= 0 && number < flutterIcons.length) {
                return flutterIcons[number];
            }
            return null;
        }

        // Encode list of names into string of 2-char blocks
        function encodeList(names) {
            return names.map(name => {
                const num = encode(name);
                return num >= 0 ? encodeNumberToBase62(num) : '';
            }).filter(block => block).join('');
        }

        // Decode string of 2-char blocks into list of names
        function decodeList(encodedString) {
            const names = [];
            // Read 2 characters at a time
            for (let i = 0; i < encodedString.length; i += 2) {
                const block = encodedString.substr(i, 2);
                if (block.length === 2) {
                    const num = decodeBase62ToNumber(block);
                    const name = decode(num);
                    if (name) {
                        names.push(name);
                    }
                }
            }
            return names;
        }
        const defaultSettings = {
            size: 2.5,
            color: '#1a1a1a',
            backgroundColor: 'transparent',
            bold: false,
            invert: false,
            rounded: false,
            outlined: false,
            darkPreview: false,
            theme: 'light'
        };
        let currentSettings = { ...defaultSettings };

        function setDrawerExpanded(expanded, options = {}) {
            const drawer = document.getElementById('codeDrawer');
            if (!drawer) return;

            const { customTransform } = options;
            isDrawerExpanded = expanded;
            drawer.classList.toggle('show', expanded);

            if (customTransform) {
                drawer.style.transform = customTransform;
                return;
            }

            if (expanded) {
                drawer.style.transform = 'translateY(0)';
            } else {
                drawer.style.transform = 'translateY(calc(100% - 40px))';
            }
        }

        function normalizeSettings() {
            const parsedSize = parseFloat(currentSettings.size);
            currentSettings.size = !Number.isNaN(parsedSize) ? Math.min(Math.max(parsedSize, 1), 50) : defaultSettings.size;
            currentSettings.color = typeof currentSettings.color === 'string' ? currentSettings.color : defaultSettings.color;
            currentSettings.backgroundColor = typeof currentSettings.backgroundColor === 'string'
                ? currentSettings.backgroundColor
                : defaultSettings.backgroundColor;
            currentSettings.bold = Boolean(currentSettings.bold);
            currentSettings.invert = Boolean(currentSettings.invert);
            currentSettings.rounded = Boolean(currentSettings.rounded);
            currentSettings.outlined = Boolean(currentSettings.outlined);
            currentSettings.darkPreview = Boolean(currentSettings.darkPreview);
            currentSettings.theme = currentSettings.theme === 'dark' ? 'dark' : 'light';
        }

        function saveSettings() {
            try {
                normalizeSettings();
                localStorage.setItem(STORAGE_KEY, JSON.stringify(currentSettings));
            } catch (error) {
                console.warn('Unable to save settings', error);
            }
        }

        function loadSettings() {
            try {
                const stored = localStorage.getItem(STORAGE_KEY);
                if (!stored) {
                    currentSettings = { ...defaultSettings };
                    return;
                }
                const parsed = JSON.parse(stored);
                currentSettings = { ...defaultSettings, ...parsed };
                normalizeSettings();
            } catch (error) {
                console.warn('Unable to load settings', error);
                currentSettings = { ...defaultSettings };
            }
        }

        function setSelectValue(selectElement, value, fallback) {
            if (!selectElement) {
                return fallback;
            }
            const optionValues = Array.from(selectElement.options).map(option => option.value);
            const resolvedValue = optionValues.includes(value) ? value : fallback;
            selectElement.value = resolvedValue;
            return resolvedValue;
        }

        function applyTheme(theme, options = {}) {
            const { preserveColor = false } = options;
            const body = document.body;
            const themeToggle = document.getElementById('themeToggle');
            const themeSwitch = document.getElementById('themeSwitch');
            const label = themeToggle ? themeToggle.querySelector('label') : null;
            const nextTheme = theme === 'dark' ? 'dark' : 'light';

            currentSettings.theme = nextTheme;
            const isDark = nextTheme === 'dark';

            body.classList.toggle('dark', isDark);
            if (themeToggle) {
                themeToggle.classList.toggle('light', !isDark);
            }
            if (themeSwitch) {
                themeSwitch.classList.toggle('light', !isDark);
            }
            if (label) {
                label.textContent = isDark ? 'Dark' : 'Light';
            }

            if (!preserveColor) {
                // Only change color if it's currently a default color
                const currentColor = currentSettings.color;
                const isDefaultLight = currentColor === '#1a1a1a';
                const isDefaultDark = currentColor === '#e4e4e7';
                
                if (isDefaultLight || isDefaultDark) {
                    const defaultColor = isDark ? '#e4e4e7' : '#1a1a1a';
                    currentSettings.color = defaultColor;
                    const iconColorSelect = document.getElementById('iconColor');
                    setSelectValue(iconColorSelect, defaultColor, defaultColor);
                }
            }
        }

        function applySettingsToControls() {
            const sizeSlider = document.getElementById('iconSize');
            const sizeValue = document.getElementById('sizeValue');
            if (sizeSlider && sizeValue) {
                // Convert rem to slider value (reverse formula)
                // sliderValue = 100 * ((rem - 1) / 49)^(1/4)
                const sliderValue = 100 * Math.pow((currentSettings.size - 1) / 49, 1/4);
                sizeSlider.value = Math.round(sliderValue);
                const displayRem = Math.round(currentSettings.size * 10) / 10; // Round to 1 decimal for display
                sizeValue.textContent = `${displayRem}rem`;
            }

            const iconColorSelect = document.getElementById('iconColor');
            currentSettings.color = setSelectValue(iconColorSelect, currentSettings.color, defaultSettings.color);

            const backgroundSelect = document.getElementById('backgroundColor');
            currentSettings.backgroundColor = setSelectValue(
                backgroundSelect,
                currentSettings.backgroundColor,
                defaultSettings.backgroundColor
            );

            const boldToggle = document.getElementById('boldToggle');
            const invertToggle = document.getElementById('invertToggle');
            const roundedToggle = document.getElementById('roundedToggle');
            const outlinedToggle = document.getElementById('outlinedToggle');
            const darkPreviewToggle = document.getElementById('darkPreviewToggle');

            if (boldToggle) boldToggle.checked = currentSettings.bold;
            if (invertToggle) invertToggle.checked = currentSettings.invert;
            if (roundedToggle) roundedToggle.checked = currentSettings.rounded;
            if (outlinedToggle) outlinedToggle.checked = currentSettings.outlined;
            if (darkPreviewToggle) darkPreviewToggle.checked = currentSettings.darkPreview;
        }

        function toggleTheme() {
            const nextTheme = currentSettings.theme === 'dark' ? 'light' : 'dark';
            // Track theme toggle
            if (typeof gtag !== 'undefined') {
                gtag('event', 'toggle_theme', {
                    'theme': nextTheme
                });
            }
            applyTheme(nextTheme);
            renderIcons();
            updateCodePreview();
            saveSettings();
        }

        function loadCollections() {
            try {
                const stored = localStorage.getItem(COLLECTIONS_KEY);
                collections = stored ? JSON.parse(stored) : {};
                if (!collections['Favorites']) {
                    collections['Favorites'] = [];
                }
            } catch (error) {
                console.warn('Unable to load collections', error);
                collections = { 'Favorites': [] };
            }
        }

        function saveCollections() {
            try {
                localStorage.setItem(COLLECTIONS_KEY, JSON.stringify(collections));
            } catch (error) {
                console.warn('Unable to save collections', error);
            }
        }

        function getCurrentCollection() {
            if (!currentCollectionName) {
                return [];
            }
            if (!collections[currentCollectionName]) {
                collections[currentCollectionName] = [];
            }
            return collections[currentCollectionName];
        }

        function loadRecentIcons() {
            try {
                const stored = localStorage.getItem(RECENT_KEY);
                recentIcons = stored ? JSON.parse(stored) : [];
                if (recentIcons.length > 20) recentIcons = recentIcons.slice(0, 20);
            } catch (error) {
                console.warn('Unable to load recent icons', error);
                recentIcons = [];
            }
        }

        function saveRecentIcons() {
            try {
                localStorage.setItem(RECENT_KEY, JSON.stringify(recentIcons));
            } catch (error) {
                console.warn('Unable to save recent icons', error);
            }
        }

        function addToRecent(iconName) {
            recentIcons = recentIcons.filter(i => i !== iconName);
            recentIcons.unshift(iconName);
            if (recentIcons.length > 20) recentIcons = recentIcons.slice(0, 20);
            saveRecentIcons();
        }

        function toggleIconInCollection(iconName, event) {
            if (event) event.stopPropagation();
            // If no collection selected, default to Favorites
            if (!currentCollectionName) {
                currentCollectionName = 'Favorites';
                if (!collections['Favorites']) {
                    collections['Favorites'] = [];
                }
            }
            const collection = getCurrentCollection();
            const index = collection.indexOf(iconName);
            let message;
            if (index > -1) {
                collection.splice(index, 1);
                message = `Icon removed from ${currentCollectionName}`;
                // Track favorite removal
                if (typeof gtag !== 'undefined') {
                    gtag('event', 'remove_from_collection', {
                        'icon_name': iconName,
                        'collection_name': currentCollectionName
                    });
                }
            } else {
                collection.push(iconName);
                message = `Icon added to ${currentCollectionName}`;
                // Track favorite addition
                if (typeof gtag !== 'undefined') {
                    gtag('event', 'add_to_collection', {
                        'icon_name': iconName,
                        'collection_name': currentCollectionName
                    });
                }
            }
            saveCollections();
            renderCollectionButtons();
            renderIcons();
            showToast(message);
        }

        function isInCurrentCollection(iconName) {
            if (!currentCollectionName) {
                return false;
            }
            return getCurrentCollection().includes(iconName);
        }

        function renderCollectionButtons() {
            const container = document.getElementById('collectionButtons');
            if (!container) return;
            
            const collectionNames = Object.keys(collections).sort();
            const hasActiveCollection = currentCollectionName && collections[currentCollectionName];
            const canDelete = currentCollectionName && currentCollectionName !== 'Favorites';
            const collection = hasActiveCollection ? getCurrentCollection() : [];
            
            let html = '<span class="my-lists-label">My Lists</span>';
            
            // Collection buttons with 3 states
            collectionNames.forEach(name => {
                let stateClass = '';
                let tooltip = '';
                
                if (filteringCollectionName === name && currentCollectionName === name) {
                    // State 2: Full (active for selection AND filtering)
                    stateClass = 'active';
                    tooltip = 'Click to unfilter';
                } else if (currentCollectionName === name && filteringCollectionName !== name) {
                    // State 1: Selected (border highlight, active for selection but not filtering)
                    stateClass = 'selected';
                    tooltip = 'Click to filter';
                } else {
                    // State 3: Inactive (no class)
                    tooltip = 'Select list';
                }
                
                html += `<button class="collection-btn ${stateClass}" onclick="selectCollection('${name}')" title="${tooltip}">${name}</button>`;
            });
            
            // Action buttons (apply to collection in state 1 or 2)
            html += `<button class="collection-action-btn" onclick="createNewCollection()" title="Create new list">+</button>`;
            html += `<button class="collection-action-btn delete-btn" onclick="deleteCollection()" ${!canDelete ? 'disabled' : ''} title="${canDelete ? 'Remove list' : 'Cannot delete Favorites'}">-</button>`;
            const shareTitle = hasActiveCollection && currentCollectionName ? `Copy ${currentCollectionName} shareable URL` : 'Sharable link';
            html += `<button class="collection-action-btn" onclick="shareCurrentCollection()" ${!hasActiveCollection || collection.length === 0 ? 'disabled' : ''} title="${shareTitle}"><span class="material-icons">ios_share</span></button>`;
            
            container.innerHTML = html;
        }

        function selectCollection(name) {
            // State 1: selected (border highlight) - currentCollectionName set, filteringCollectionName null
            // State 2: active/full (full highlight) - both currentCollectionName and filteringCollectionName set to same
            // State 3: inactive - both null or different
            
            if (currentCollectionName === name && filteringCollectionName === name) {
                // Currently in state 2 (full), switch to state 1 (selected only)
                filteringCollectionName = null;
            } else if (currentCollectionName === name && filteringCollectionName === null) {
                // Currently in state 1 (selected), switch to state 2 (full)
                filteringCollectionName = name;
            } else {
                // Clicking different button - new one goes to state 1, old one goes to state 3
                currentCollectionName = name;
                filteringCollectionName = null;
            }
            
            // Track collection selection
            if (typeof gtag !== 'undefined') {
                gtag('event', 'select_collection', {
                    'collection_name': name,
                    'is_filtering': filteringCollectionName === name
                });
            }
            
            renderCollectionButtons();
            filterIcons();
        }

        function createNewCollection() {
            const name = prompt('Collection name:');
            if (name && name.trim()) {
                const trimmedName = name.trim();
                if (!collections[trimmedName]) {
                    collections[trimmedName] = [];
                    currentCollectionName = trimmedName;
                    filteringCollectionName = null; // State 1: selected but not filtering
                    // Track collection creation
                    if (typeof gtag !== 'undefined') {
                        gtag('event', 'create_collection', {
                            'collection_name': trimmedName
                        });
                    }
                    saveCollections();
                    renderCollectionButtons();
                    filterIcons();
                } else {
                    alert('Collection already exists!');
                }
            }
        }

        function deleteCollection() {
            if (!currentCollectionName || currentCollectionName === 'Favorites') {
                return;
            }
            
            if (confirm(`Delete collection "${currentCollectionName}"?`)) {
                const deletedName = currentCollectionName;
                delete collections[deletedName];
                
                // Track collection deletion
                if (typeof gtag !== 'undefined') {
                    gtag('event', 'delete_collection', {
                        'collection_name': deletedName
                    });
                }
                
                // Reset to Favorites in state 1 (selected, not filtering)
                currentCollectionName = 'Favorites';
                filteringCollectionName = null;
                
                saveCollections();
                renderCollectionButtons();
                filterIcons();
            }
        }

        function shareCurrentCollection() {
            const collection = getCurrentCollection();
            if (collection.length === 0) {
                alert('Add icons to collection first!');
                return;
            }
            
            const baseUrl = window.location.origin + window.location.pathname;
            const params = new URLSearchParams();
            
            // Use short parameter names
            if (currentCollectionName && currentCollectionName !== 'Favorites') {
                params.set('c', currentCollectionName);
            }
            // Encode icon list as compact 2-char blocks
            const encodedIcons = encodeList(collection);
            params.set('i', encodedIcons);
            
            const shareUrl = `${baseUrl}?${params.toString()}#icons`;
            
            // Track collection share
            if (typeof gtag !== 'undefined') {
                gtag('event', 'share_collection', {
                    'collection_name': currentCollectionName,
                    'icon_count': collection.length
                });
            }
            
            navigator.clipboard.writeText(shareUrl).then(() => {
                showToast(`Collection "${currentCollectionName}" link copied!`);
            });
        }


        function setupCategories() {
            const categoryFilter = document.getElementById('categoryFilter');
            if (!categoryFilter) return;

            categoryFilter.innerHTML = Object.keys(iconCategories).map(catKey => {
                const cat = iconCategories[catKey];
                return `<button class="category-btn ${catKey === currentCategory ? 'active' : ''}" onclick="setCategory('${catKey}')">${cat.name}</button>`;
            }).join('');
        }

        function setCategory(category) {
            // If clicking the same category again, deselect and show all icons
            if (currentCategory === category) {
                currentCategory = 'all';
            } else {
                currentCategory = category;
            }
            // Track category selection
            if (typeof gtag !== 'undefined') {
                gtag('event', 'select_category', {
                    'category': currentCategory
                });
            }
            setupCategories();
            filterIcons();
            updateURL();
        }

        function updateURL() {
            const params = new URLSearchParams();
            if (currentSearchTerm) params.set('search', currentSearchTerm);
            if (currentCategory !== 'all') params.set('category', currentCategory);
            if (selectedIcon && selectedIcon !== 'home') params.set('icon', selectedIcon);
            if (currentSettings.size !== 2.5) params.set('size', currentSettings.size);
            if (currentSettings.color !== '#1a1a1a' && currentSettings.color !== '#e4e4e7') params.set('color', currentSettings.color.replace('#', ''));
            
            const newURL = params.toString() ? `${window.location.pathname}?${params.toString()}` : window.location.pathname;
            window.history.replaceState({}, '', newURL);
        }

        function loadFromURL() {
            const params = new URLSearchParams(window.location.search);
            if (params.has('search')) {
                currentSearchTerm = params.get('search');
                document.getElementById('searchInput').value = currentSearchTerm;
            }
            if (params.has('category')) {
                currentCategory = params.get('category');
            }
            if (params.has('icon')) {
                selectedIcon = params.get('icon');
            }
            if (params.has('size')) {
                currentSettings.size = parseFloat(params.get('size'));
            }
            if (params.has('color')) {
                currentSettings.color = '#' + params.get('color');
            }
            // Handle collection parameter (new short format 'c' or old 'collection')
            if (params.has('c')) {
                const collectionName = params.get('c');
                if (collectionName && !collections[collectionName]) {
                    collections[collectionName] = [];
                }
                if (collectionName) {
                    currentCollectionName = collectionName;
                }
            } else if (params.has('collection')) {
                // Backwards compatibility with old format
                const collectionName = params.get('collection');
                if (collectionName && !collections[collectionName]) {
                    collections[collectionName] = [];
                }
                if (collectionName) {
                    currentCollectionName = collectionName;
                }
            }
            
            // Handle icons parameter (new encoded format 'i' or old 'icons')
            if (params.has('i')) {
                const encodedIcons = params.get('i');
                const iconList = decodeList(encodedIcons);
                if (iconList.length > 0) {
                    if (!currentCollectionName) {
                        // If no collection specified, add to "Shared" collection
                        currentCollectionName = 'Shared';
                        if (!collections['Shared']) {
                            collections['Shared'] = [];
                        }
                    }
                    collections[currentCollectionName] = iconList;
                    // When loading from URL, set to state 2 (full/filtering) to show the icons
                    filteringCollectionName = currentCollectionName;
                    saveCollections();
                }
            } else if (params.has('icons')) {
                // Backwards compatibility with old format
                const iconsParam = params.get('icons');
                const iconList = iconsParam.split(',').filter(i => i && flutterIcons.includes(i));
                if (iconList.length > 0) {
                    if (!currentCollectionName) {
                        // If no collection specified, add to "Shared" collection
                        currentCollectionName = 'Shared';
                        if (!collections['Shared']) {
                            collections['Shared'] = [];
                        }
                    }
                    collections[currentCollectionName] = iconList;
                    // When loading from URL, set to state 2 (full/filtering) to show the icons
                    filteringCollectionName = currentCollectionName;
                    saveCollections();
                }
            }
        }


        function initializePage() {
            loadSettings();
            loadCollections();
            loadRecentIcons();
            loadFromURL();
            // Set Favorites as default to state 1 (selected, not filtering) if no collection is selected
            if (!currentCollectionName && collections['Favorites']) {
                currentCollectionName = 'Favorites';
                filteringCollectionName = null; // State 1: selected but not filtering
            }
            applyTheme(currentSettings.theme, { preserveColor: true });
            applySettingsToControls();
            setupCategories();
            renderCollectionButtons();
            filterIcons();
            updateCodePreview();
            setupEventListeners();
            saveSettings();
        }

        function setupDrawer() {
            const drawer = document.getElementById('codeDrawer');
            const handle = document.getElementById('drawerHandle');
            
            if (!drawer || !handle) return;
            
            let startY = 0;
            let currentY = 0;
            let isDragging = false;
            let dragEndTime = 0;
            let hasMoved = false;
            let initialIsExpanded = false;
            let initialTransform = '';
            
            handle.addEventListener('touchstart', (e) => {
                startY = e.touches[0].clientY;
                currentY = startY;
                isDragging = true;
                hasMoved = false;
                initialIsExpanded = isDrawerExpanded || drawer.classList.contains('show') || drawer.style.transform === 'translateY(0)';
                initialTransform = drawer.style.transform || (initialIsExpanded ? 'translateY(0)' : 'translateY(calc(100% - 40px))');
                drawer.style.transition = 'none';
            });
            
            handle.addEventListener('touchmove', (e) => {
                if (!isDragging) return;
                
                currentY = e.touches[0].clientY;
                const deltaY = currentY - startY;
                
                if (Math.abs(deltaY) < 6) {
                    return;
                }
                
                e.preventDefault();
                hasMoved = true;
                
                const drawerHeight = drawer.offsetHeight;
                
                // Only allow upward movement (showing more) or downward movement (minimizing)
                if (deltaY < 0) {
                    // Moving up - show more of drawer
                    const translateY = Math.max(-drawerHeight + 100, deltaY);
                    drawer.style.transform = `translateY(${translateY}px)`;
                } else {
                    // Moving down - minimize drawer but keep handle visible
                    const translateY = Math.min(0, deltaY);
                    const minTranslateY = drawerHeight - 40; // Keep 40px visible for handle
                    drawer.style.transform = `translateY(${Math.max(translateY, minTranslateY)}px)`;
                }
            });
            
            handle.addEventListener('touchend', () => {
                if (!isDragging) return;
                isDragging = false;
                drawer.style.transition = 'transform 0.3s cubic-bezier(0.4, 0, 0.2, 1)';
                
                if (!hasMoved) {
                    currentY = startY;
                    hasMoved = false;
                    return;
                }
                
                dragEndTime = Date.now();
                
                const deltaY = currentY - startY;
                const drawerHeight = drawer.offsetHeight;
                
                if (deltaY < -50) {
                    // Show more of drawer
                    const customTransform = `translateY(-${drawerHeight - 100}px)`;
                    setDrawerExpanded(true, { customTransform });
                } else if (deltaY > 50) {
                    // Minimize drawer but keep handle visible
                    setDrawerExpanded(false);
                } else {
                    // Return to original position
                    drawer.style.transform = initialTransform;
                    drawer.classList.toggle('show', initialIsExpanded);
                    isDrawerExpanded = initialIsExpanded;
                }
                
                hasMoved = false;
            });
            
            // Click to toggle
            handle.addEventListener('click', () => {
                // Prevent click if we just finished dragging (within 300ms)
                if (isDragging || (Date.now() - dragEndTime) < 300) return;
                
                if (isDrawerExpanded) {
                    setDrawerExpanded(false);
                } else {
                    setDrawerExpanded(true);
                }
            });

            if (window.innerWidth <= 768) {
                setDrawerExpanded(true);
            } else {
                isDrawerExpanded = drawer.classList.contains('show') || drawer.style.transform === 'translateY(0)';
            }
        }

        function setupEventListeners() {
            document.getElementById('searchInput').addEventListener('input', handleSearch);
            
            // Theme toggle
            document.getElementById('themeSwitch').addEventListener('click', toggleTheme);
            
            // Hide default tooltips and use custom ones for collection buttons
            document.addEventListener('mouseover', function(e) {
                if (e.target.classList.contains('collection-btn') || e.target.classList.contains('collection-action-btn')) {
                    const target = e.target;
                    target.setAttribute('data-title', target.getAttribute('title'));
                    target.removeAttribute('title');
                }
            });
            
            document.addEventListener('mouseout', function(e) {
                if (e.target.classList.contains('collection-btn') || e.target.classList.contains('collection-action-btn')) {
                    const target = e.target;
                    const title = target.getAttribute('data-title');
                    if (title) {
                        target.setAttribute('title', title);
                    }
                }
            });

            // Overlay tooltips for embed and favorite buttons
            let tooltipElement = null;
            document.addEventListener('mouseover', function(e) {
                const embedBtn = e.target.closest('.embed-btn');
                const favoriteBtn = e.target.closest('.favorite-btn');
                const btn = embedBtn || favoriteBtn;
                
                if (btn && !tooltipElement) {
                    const title = btn.getAttribute('title') || btn.getAttribute('data-title');
                    if (title) {
                        tooltipElement = document.createElement('div');
                        tooltipElement.className = 'icon-button-tooltip';
                        tooltipElement.textContent = title;
                        document.body.appendChild(tooltipElement);
                        
                        const rect = btn.getBoundingClientRect();
                        tooltipElement.style.left = rect.left + (rect.width / 2) + 'px';
                        tooltipElement.style.top = (rect.top - tooltipElement.offsetHeight - 6) + 'px';
                        tooltipElement.style.transform = 'translateX(-50%)';
                    }
                }
            }, true);
            
            document.addEventListener('mouseout', function(e) {
                const embedBtn = e.target.closest('.embed-btn');
                const favoriteBtn = e.target.closest('.favorite-btn');
                if ((embedBtn || favoriteBtn) && tooltipElement) {
                    tooltipElement.remove();
                    tooltipElement = null;
                }
            }, true);
            
            // Event delegation for icon clicks - copy code when clicking icon (not star)
            const iconsGrid = document.getElementById('iconsGrid');
            if (iconsGrid) {
                iconsGrid.addEventListener('click', function(e) {
                    // Find the closest icon-item
                    const iconItem = e.target.closest('.icon-item');
                    if (!iconItem) return;
                    
                    // Don't copy if clicking the star button, embed button, or anything inside them
                    const favoriteBtn = e.target.closest('.favorite-btn');
                    const embedBtn = e.target.closest('.embed-btn');
                    if (favoriteBtn || embedBtn) {
                        return;
                    }
                    
                    // Get icon name from data attribute
                    const iconName = iconItem.getAttribute('data-icon-name');
                    if (iconName) {
                        copyToClipboard(iconName);
                    }
                }, true); // Use capture phase to ensure we catch it
            }
            
            // Drawer functionality
            setupDrawer();
            
            const sizeSlider = document.getElementById('iconSize');
            sizeSlider.addEventListener('input', (e) => {
                // Convert slider value (0-100) to exponential rem (1-50)
                // Formula: rem = 1 + 49 * (sliderValue/100)^4
                // This ensures middle (50) is below 5rem
                const sliderValue = parseFloat(e.target.value);
                const rem = 1 + 49 * Math.pow(sliderValue / 100, 4);
                currentSettings.size = rem; // Keep full precision internally
                const displayRem = Math.round(rem * 10) / 10; // Round to 1 decimal for display
                document.getElementById('sizeValue').textContent = `${displayRem}rem`;
                renderIcons();
                updateCodePreview();
                saveSettings();
                updateURL();
            });
            
            // Handle manual size value editing
            window.handleSizeValueEdit = function(element) {
                const text = element.textContent.trim();
                const remMatch = text.match(/^([\d.]+)\s*rem?$/i);
                if (remMatch) {
                    const remValue = parseFloat(remMatch[1]);
                    if (!isNaN(remValue) && remValue >= 1 && remValue <= 50) {
                        currentSettings.size = remValue;
                        // Convert rem to slider value (reverse formula)
                        // sliderValue = 100 * ((rem - 1) / 49)^(1/4)
                        const sliderValue = 100 * Math.pow((remValue - 1) / 49, 1/4);
                        sizeSlider.value = Math.round(sliderValue);
                        element.textContent = `${currentSettings.size}rem`;
                        renderIcons();
                        updateCodePreview();
                        saveSettings();
                        updateURL();
                    } else {
                        element.textContent = `${currentSettings.size}rem`;
                    }
                } else {
                    element.textContent = `${currentSettings.size}rem`;
                }
            };
            
            document.getElementById('iconColor').addEventListener('change', (e) => {
                currentSettings.color = e.target.value;
                renderIcons();
                updateCodePreview();
                saveSettings();
                updateURL();
            });
            
            document.getElementById('backgroundColor').addEventListener('change', (e) => {
                currentSettings.backgroundColor = e.target.value;
                renderIcons();
                updateCodePreview();
                saveSettings();
            });
            
            ['boldToggle', 'invertToggle', 'roundedToggle', 'outlinedToggle', 'darkPreviewToggle'].forEach(id => {
                document.getElementById(id).addEventListener('change', (e) => {
                    const prop = id.replace('Toggle', '');
                    currentSettings[prop] = e.target.checked;
                    renderIcons();
                    updateCodePreview();
                    saveSettings();
                });
            });
        }

        function handleSearch(event) {
            currentSearchTerm = event.target.value.toLowerCase().trim();
            filterIcons();
        }

        function filterIcons() {
            let icons = [...flutterIcons];
            
            // Filter by collection only if in state 2 (full/filtering mode)
            if (filteringCollectionName && collections[filteringCollectionName]) {
                const collectionIcons = collections[filteringCollectionName];
                if (collectionIcons.length > 0) {
                    icons = icons.filter(iconName => collectionIcons.includes(iconName));
                } else {
                    // Empty collection, show nothing
                    icons = [];
                }
            }
            
            // Filter by category
            if (currentCategory !== 'all' && iconCategories[currentCategory]) {
                const categoryIcons = iconCategories[currentCategory].icons;
                if (categoryIcons.length > 0) {
                    icons = icons.filter(iconName => categoryIcons.includes(iconName));
                }
            }
            
            // Filter by search term
            if (currentSearchTerm !== '') {
                icons = icons.filter(iconName => iconName.toLowerCase().includes(currentSearchTerm));
            }
            
            filteredIcons = icons;
            renderIcons();
            updateStats();
            updateURL();
        }

        function renderIcons() {
            const iconsGrid = document.getElementById('iconsGrid');
            
            // Calculate minimum column width based on icon size
            // Icon size in rem * 16 = pixels, plus padding (32px each side) + some margin
            const iconSizePx = currentSettings.size * 16;
            const minColumnWidth = Math.max(140, iconSizePx + 64); // 64px for padding (32px each side)
            iconsGrid.style.gridTemplateColumns = `repeat(auto-fill, minmax(${minColumnWidth}px, 1fr))`;
            
            if (filteredIcons.length === 0) {
                iconsGrid.innerHTML = `
                    <div class="no-results">
                        <span class="material-icons">search_off</span>
                        <p>No icons found for "${currentSearchTerm}"</p>
                    </div>
                `;
                return;
            }

            const iconClasses = ['material-icons', 'icon-display'];
            if (currentSettings.bold) iconClasses.push('bold');
            if (currentSettings.invert) iconClasses.push('inverted');
            if (currentSettings.rounded) iconClasses.push('rounded');
            if (currentSettings.outlined) iconClasses.push('outlined');
            
            const itemClasses = ['icon-item'];
            if (currentSettings.invert) itemClasses.push('inverted');
            
            const style = `font-size: ${currentSettings.size}rem; color: ${currentSettings.color};`;
            let bgStyle = currentSettings.backgroundColor !== 'transparent' ? `background-color: ${currentSettings.backgroundColor};` : '';
            if (currentSettings.darkPreview && currentSettings.backgroundColor === 'transparent') {
                bgStyle = 'background-color: #1a1a1a;';
            }
            const roundedStyle = currentSettings.rounded ? `width: ${(currentSettings.size * 16) + 20}px; height: ${(currentSettings.size * 16) + 20}px;` : '';
            
            iconsGrid.innerHTML = filteredIcons.map(iconName => {
                const inCollection = isInCurrentCollection(iconName);
                return `
                <div class="${itemClasses.join(' ')}" data-icon-name="${iconName}" onclick="handleIconClick('${iconName}', event)" onmouseover="selectedIcon='${iconName}'; updateCodePreview('${iconName}')">
                    <button class="embed-btn" onclick="copyEmbedCode('${iconName}', event)" title="Generate HTML to place the icon on your site">
                        <span style="font-size: 10px; font-weight: 600; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;">HTML</span>
                    </button>
                    <button class="favorite-btn ${inCollection ? 'favorited' : ''}" onclick="toggleIconInCollection('${iconName}', event)" title="${inCollection ? `Remove from ${currentCollectionName}` : `Add to ${currentCollectionName}`}">
                        <span class="material-icons">${inCollection ? 'star' : 'star_border'}</span>
                    </button>
                    <span class="${iconClasses.join(' ')}" style="${style} ${bgStyle} ${roundedStyle}">${iconName}</span>
                    <div class="icon-name">${iconName}</div>
                </div>
            `;
            }).join('');
        }

        function updateStats() {
            document.getElementById('visibleCount').textContent = filteredIcons.length;
            document.getElementById('totalCount').textContent = flutterIcons.length;
        }

        function updateCodePreview(iconName = null) {
            const icon = iconName || selectedIcon;
            const codeText = document.getElementById('codeText');
            const codeTextDrawer = document.getElementById('codeTextDrawer');
            const codePanel = document.getElementById('codePanel');
            const codeDrawer = document.getElementById('codeDrawer');
            
            let iconCode = `Icons.${icon}`;
            const stylingOptions = [];
            
            if (currentSettings.bold) stylingOptions.push('fontWeight: FontWeight.bold');
            if (currentSettings.size !== 2.5) stylingOptions.push(`size: ${currentSettings.size * 16}`);
            if (currentSettings.color !== '#000000' && currentSettings.color !== '#1a1a1a' && currentSettings.color !== '#e4e4e7') {
                const rgb = hexToRgb(currentSettings.color);
                stylingOptions.push(`color: Color.fromRGBO(${rgb.r}, ${rgb.g}, ${rgb.b}, 1.0)`);
            }
            if (currentSettings.backgroundColor !== 'transparent') {
                const rgb = hexToRgb(currentSettings.backgroundColor);
                stylingOptions.push(`backgroundColor: Color.fromRGBO(${rgb.r}, ${rgb.g}, ${rgb.b}, 1.0)`);
            }
            if (currentSettings.invert) stylingOptions.push('colorFilter: ColorFilter.mode(Colors.white, BlendMode.difference)');
            if (currentSettings.rounded) stylingOptions.push('style: IconButton.styleFrom(backgroundColor: Colors.grey.shade200, shape: CircleBorder())');
            if (currentSettings.outlined) stylingOptions.push('style: IconButton.styleFrom(side: BorderSide(color: Colors.grey, width: 2))');
            
            if (stylingOptions.length > 0) {
                iconCode = `Icon(\n  ${iconCode},\n  ${stylingOptions.join(',\n  ')}\n)`;
            }
            
            codeText.textContent = iconCode;
            if (codeTextDrawer) codeTextDrawer.textContent = iconCode;
            
            // Show appropriate code display based on screen size
            if (window.innerWidth <= 768) {
                if (!isDrawerExpanded) {
                    setDrawerExpanded(true);
                } else if (codeDrawer) {
                    codeDrawer.classList.add('show');
                }
            } else if (codePanel) {
                codePanel.classList.add('show');
            }
        }

        function handleIconClick(iconName, event) {
            // Don't copy if clicking the star button or embed button (they stop propagation, but just in case)
            if (event.target.closest('.favorite-btn') || event.target.closest('.embed-btn')) {
                return;
            }
            copyToClipboard(iconName);
        }

        function copyEmbedCode(iconName, event) {
            if (event) event.stopPropagation();
            
            // Track HTML embed code copy
            if (typeof gtag !== 'undefined') {
                gtag('event', 'copy_embed_code', {
                    'icon_name': iconName,
                    'code_type': 'html'
                });
            }
            
            // Build style string from current settings
            const sizePx = currentSettings.size * 16;
            const styles = [];
            
            styles.push(`font-size: ${sizePx}px`);
            styles.push('vertical-align: middle');
            
            if (currentSettings.bold) {
                styles.push('font-weight: bold');
            }
            
            if (currentSettings.color && currentSettings.color !== '#000000' && currentSettings.color !== '#1a1a1a' && currentSettings.color !== '#e4e4e7') {
                styles.push(`color: ${currentSettings.color}`);
            }
            
            const styleString = styles.join('; ');
            
            // Use compact URL format with encoded icon
            const encodedIcon = encodeList([iconName]);
            const embedCode = `<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
<a href="https://fluttericons.com/?i=${encodedIcon}" style="text-decoration: none; color: ${currentSettings.color || '#333'};">
  <span class="material-icons" style="${styleString}">${iconName}</span>
</a>`;
            
            navigator.clipboard.writeText(embedCode).then(() => {
                showToast(`Copied HTML embed code for ${iconName}`);
            }).catch(err => {
                console.error('Failed to copy:', err);
            });
        }

        function copyToClipboard(iconName) {
            // Track icon click event
            if (typeof gtag !== 'undefined') {
                gtag('event', 'icon_click', {
                    'icon_name': iconName,
                    'code_type': 'flutter'
                });
            }
            selectedIcon = iconName;
            addToRecent(iconName);
            let iconCode = `Icons.${iconName}`;
            const stylingOptions = [];
            
            if (currentSettings.bold) stylingOptions.push('fontWeight: FontWeight.bold');
            if (currentSettings.size !== 2.5) stylingOptions.push(`size: ${currentSettings.size * 16}`);
            if (currentSettings.color !== '#000000' && currentSettings.color !== '#1a1a1a' && currentSettings.color !== '#e4e4e7') {
                const rgb = hexToRgb(currentSettings.color);
                stylingOptions.push(`color: Color.fromRGBO(${rgb.r}, ${rgb.g}, ${rgb.b}, 1.0)`);
            }
            if (currentSettings.backgroundColor !== 'transparent') {
                const rgb = hexToRgb(currentSettings.backgroundColor);
                stylingOptions.push(`backgroundColor: Color.fromRGBO(${rgb.r}, ${rgb.g}, ${rgb.b}, 1.0)`);
            }
            if (currentSettings.invert) stylingOptions.push('colorFilter: ColorFilter.mode(Colors.white, BlendMode.difference)');
            if (currentSettings.rounded) stylingOptions.push('style: IconButton.styleFrom(backgroundColor: Colors.grey.shade200, shape: CircleBorder())');
            if (currentSettings.outlined) stylingOptions.push('style: IconButton.styleFrom(side: BorderSide(color: Colors.grey, width: 2))');
            
            if (stylingOptions.length > 0) {
                iconCode = `Icon(\n  ${iconCode},\n  ${stylingOptions.join(',\n  ')}\n)`;
            }
            
            navigator.clipboard.writeText(iconCode).then(() => {
                showToast(iconCode);
                highlightCopiedIcon(iconName);
                updateURL();
            }).catch(err => {
                console.error('Failed to copy:', err);
            });
        }

        function copyCodeToClipboard() {
            const codeText = document.getElementById('codeText').textContent;
            // Track copy code button click
            if (typeof gtag !== 'undefined') {
                gtag('event', 'copy_code_button', {
                    'code_type': codeText.includes('Icons.') ? 'flutter' : 'html'
                });
            }
            navigator.clipboard.writeText(codeText).then(() => {
                showToast(codeText);
            }).catch(err => {
                console.error('Failed to copy:', err);
            });
        }

        function resetSettings() {
            // Track settings reset
            if (typeof gtag !== 'undefined') {
                gtag('event', 'reset_settings');
            }
            currentSettings = { ...defaultSettings };
            applyTheme(currentSettings.theme, { preserveColor: true });
            applySettingsToControls();
            renderIcons();
            updateCodePreview();
            saveSettings();
        }

        function showToast(message) {
            const toast = document.getElementById('toast');
            const toastText = document.getElementById('toastText');
            
            // If message contains newlines (like icon code), format it
            if (message.includes('\n')) {
                toastText.textContent = `Copied: ${message.split('\n')[0]}`;
            } else {
                toastText.textContent = message;
            }
            toast.classList.add('show');
            
            setTimeout(() => {
                toast.classList.remove('show');
            }, 2000);
        }

        function highlightCopiedIcon(iconName) {
            const iconItems = document.querySelectorAll('.icon-item');
            iconItems.forEach(item => {
                if (item.querySelector('.icon-name').textContent === iconName) {
                    item.classList.add('copied');
                    setTimeout(() => {
                        item.classList.remove('copied');
                    }, 1500);
                }
            });
        }

        document.addEventListener('DOMContentLoaded', initializePage);
    </script>
</body>
</html>
